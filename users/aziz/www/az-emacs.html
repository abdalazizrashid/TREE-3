<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-09-23 Mon 12:08 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>GNU emacs literate configuration</title>
<meta name="author" content="Abdalaziz (Aziz) R. A.M." />
<meta name="generator" content="Org Mode" />
<style type="text/css">
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="style.css" />
<script>
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
// @license-end
</script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">GNU emacs literate configuration</h1>
<p>
<b>Last revised and exported on 2024-09-23 12:08:08 +0300 with a word
count of 7404.</b>
</p>
<div id="outline-container-orge2d5c52" class="outline-2">
<h2 id="orge2d5c52"><span class="section-number-2">1.</span> Early init configurations</h2>
<div class="outline-text-2" id="text-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">Set it to big number(100mb) like most of the popular starter kits</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">like Spacemacs/Doom/Prelude, etc do: Follow the method recommended</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">by Gnu Emacs Maintainer Eli Zaretskii: "My suggestion is to</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">repeatedly multiply gc-cons-threshold by 2 until you stop seeing</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">significant improvements in responsiveness, and in any case not to</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">increase by a factor larger than 100 or somesuch. If even a</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">100-fold increase doesn't help, there's some deeper problem with</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">the Lisp code which produces so much garbage, or maybe GC is not</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">the reason for slowdown." Source:</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;"><a href="https://www.reddit.com/r/emacs/comments/brc05y/is_lspmode_too_slow_to_use_for_anyone_else/eofulix/">&lt;https://www.reddit.com/r/emacs/comments/brc05y/is_lspmode_too_slow_to_use_for_anyone_else/eofulix/&gt;</a></span>

(<span style="color: #a020f0;">setq</span> gc-cons-threshold 100000000)

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Increase the amount of data which Emacs reads from the process#</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Again the emacs default is too low 4k considering that the some of</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">the language server responses are in 800k - 3M range.</span>
(<span style="color: #a020f0;">setq</span> read-process-output-max (* 1024 1024)) <span style="color: #b22222;">;; </span><span style="color: #b22222;">1mb</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">plists provide better performance in deserialization and also put</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">less presure than hash-tables</span>
(setenv <span style="color: #8b2252;">"LSP_USE_PLISTS"</span> <span style="color: #8b2252;">"true"</span>)

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Disable the tool bar</span>
(tool-bar-mode -1)
(menu-bar-mode 1)
(toggle-scroll-bar -1) 
(scroll-bar-mode -1)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">setq</span> frame-resize-pixelwise t
      frame-inhibit-implied-resize t
      frame-title-format '(<span style="color: #8b2252;">"%b"</span>)
      ring-bell-function 'ignore
      use-dialog-box t <span style="color: #b22222;">; </span><span style="color: #b22222;">only for mouse events, which I seldom use</span>
      use-file-dialog nil
      use-short-answers t
      inhibit-splash-screen t
      inhibit-startup-screen t
      inhibit-x-resources t
      inhibit-startup-echo-area-message user-login-name <span style="color: #b22222;">; </span><span style="color: #b22222;">read the docstring</span>
      inhibit-startup-buffer-menu t)
</pre>
</div>
</div>
</div>
<div id="outline-container-org06e1e0d" class="outline-2">
<h2 id="org06e1e0d"><span class="section-number-2">2.</span> Main emacs configs</h2>
<div class="outline-text-2" id="text-2">
<p>
Packages customizations are defined here
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">Garbage collect after startup</span>
(add-hook 'after-init-hook #'garbage-collect t)
(<span style="color: #a020f0;">defvar</span> <span style="color: #a0522d;">bootstrap-version</span>)
(<span style="color: #a020f0;">let</span> ((bootstrap-file
         (expand-file-name
          <span style="color: #8b2252;">"straight/repos/straight.el/bootstrap.el"</span>
          (<span style="color: #a020f0;">or</span> (<span style="color: #a020f0;">bound-and-true-p</span> straight-base-dir)
              user-emacs-directory)))
        (bootstrap-version 7))
  (<span style="color: #a020f0;">unless</span> (file-exists-p bootstrap-file)
    (<span style="color: #a020f0;">with-current-buffer</span>
          (url-retrieve-synchronously
           <span style="color: #8b2252;">"https://raw.githubusercontent.com/radian-software/straight.el/develop/install.el"</span>
           'silent 'inhibit-cookies)
        (goto-char (point-max))
        (eval-print-last-sexp)))
  (load bootstrap-file nil 'nomessage))


(straight-use-package 'use-package)
(<span style="color: #a020f0;">setq</span> straight-use-package-by-default t)
<span style="color: #b22222;">;; </span><span style="color: #b22222;">:config</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">;; Setup a personal keymap. I'll bind various things to this later on:</span>
(<span style="color: #a020f0;">bind-keys</span> <span style="color: #483d8b;">:prefix</span> <span style="color: #8b2252;">"&lt;f1&gt;"</span>
             <span style="color: #483d8b;">:prefix-map</span> my/map)
(<span style="color: #a020f0;">setq</span> use-package-enable-imenu-support t
        use-package-compute-statistics t)
(straight-use-package 'org)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">modus-themes</span>
  <span style="color: #483d8b;">:init</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Add all your customizations prior to loading the themes</span>
  (<span style="color: #a020f0;">setq</span> modus-themes-italic-constructs t
        modus-themes-bold-constructs t
        modus-themes-region '(bg-only)
        modus-themes-to-toggle '(modus-operandi-tinted modus-vivendi))
  (<span style="color: #a020f0;">setq</span> modus-themes-custom-auto-reload nil
        modus-themes-to-toggle '(modus-operandi modus-vivendi)
        <span style="color: #b22222;">;; </span><span style="color: #b22222;">modus-themes-to-toggle '(modus-operandi-tinted modus-vivendi-tinted)</span>
        <span style="color: #b22222;">;; </span><span style="color: #b22222;">modus-themes-to-toggle '(modus-operandi-deuteranopia modus-vivendi-deuteranopia)</span>
        <span style="color: #b22222;">;; </span><span style="color: #b22222;">modus-themes-to-toggle '(modus-operandi-tritanopia modus-vivendi-tritanopia)</span>
        modus-themes-mixed-fonts t
        modus-themes-variable-pitch-ui t
        modus-themes-italic-constructs t
        modus-themes-bold-constructs nil
        modus-themes-org-blocks nil
        modus-themes-completions '((t . (extrabold)))
        modus-themes-prompts '(extrabold)
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">   modus-themes-headings</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">   '((agenda-structure . (variable-pitch light 2.2))</span>
  <span style="color: #b22222;">;;         </span><span style="color: #b22222;">(agenda-date . (variable-pitch regular 1.3))</span>
  <span style="color: #b22222;">;;         </span><span style="color: #b22222;">(t . (regular 1.15))))</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(setq </span>
   modus-themes-common-palette-overrides nil
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">'((bg-mode-line-active bg-cyan-subtle)</span>
  <span style="color: #b22222;">;;   </span><span style="color: #b22222;">(keybind yellow-warmer))</span>
         )


  <span style="color: #483d8b;">:bind</span> (<span style="color: #8b2252;">"&lt;f5&gt;"</span> . modus-themes-toggle)

  <span style="color: #483d8b;">:config</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Load the theme of your choice:</span>
  (load-theme 'modus-operandi-tinted <span style="color: #483d8b;">:no-confirm</span>)
  (modus-themes-select 'modus-operandi-tinted)
  )
</pre>
</div>

<p>
Emacs configurations
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Using `use-package` to configure emacs, here emacs is a pseudo</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">package</span>
(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">emacs</span>
  <span style="color: #483d8b;">:bind*</span> (
          (<span style="color: #8b2252;">"M-o"</span> . ace-window)
          (<span style="color: #8b2252;">"C-x &lt;C-m&gt;"</span> . execute-extended-command)
          (<span style="color: #8b2252;">"C-c &lt;C-m&gt;"</span> . execute-extended-command) <span style="color: #b22222;">;; </span><span style="color: #b22222;">Sloppy version</span>
          (<span style="color: #8b2252;">"C-h h"</span> . nil) <span style="color: #b22222;">;; </span><span style="color: #b22222;">Disable the hello page</span>
          )

  <span style="color: #483d8b;">:custom</span>
  (user-full-name <span style="color: #8b2252;">"A.R.M"</span>)


  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Settings for the Cocoa port</span>
  (ns-alternate-modifier 'super)
  (ns-command-modifier 'meta)
  (ns-function-modifier 'hyper)
  (ns-right-alternate-modifier 'super)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Settings for the Emacs Mac-port</span>
  (mac-command-modifier 'meta)
  (mac-option-modifier 'super)
  (mac-pass-command-to-system nil)

  (frame-title-format
   '(<span style="color: #483d8b;">:eval</span>
     (concat
      (<span style="color: #a020f0;">if</span> buffer-file-name default-directory <span style="color: #8b2252;">"%b"</span>)
      <span style="color: #8b2252;">"    "</span>
      (number-to-string
       (cdr
        (assq 'width
              (frame-parameters))))
      <span style="color: #8b2252;">"x"</span>
      (number-to-string
       (cdr
        (assq 'height
              (frame-parameters)))))))

  (completion-cycle-threshold 7)
  (completion-ignored-extensions
   '(<span style="color: #8b2252;">".a"</span>
     <span style="color: #8b2252;">".aux"</span>
     <span style="color: #8b2252;">".bbl"</span>
     <span style="color: #8b2252;">".bin"</span>
     <span style="color: #8b2252;">".elc"</span>
     <span style="color: #8b2252;">".git/"</span>
     <span style="color: #8b2252;">".o"</span>
     <span style="color: #8b2252;">".pyc"</span>
     <span style="color: #8b2252;">".pyo"</span>
     <span style="color: #8b2252;">".so"</span>
     <span style="color: #8b2252;">".toc"</span>
     <span style="color: #8b2252;">"~"</span>))

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">startup.el</span>
  (auto-save-list-file-prefix (user-data <span style="color: #8b2252;">"auto-save-list/.saves-"</span>))
  (inhibit-startup-echo-area-message <span style="color: #8b2252;">"aziz"</span>)
  (inhibit-startup-screen t)
  (initial-buffer-choice t)
  (initial-major-mode 'fundamental-mode)
  (initial-scratch-message <span style="color: #8b2252;">""</span>)
  (user-mail-address <span style="color: #8b2252;">"abdalaziz.rashid@outlook.com"</span>)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">files.el</span>
  (auto-save-file-name-transforms '((<span style="color: #8b2252;">"\\`/[</span><span style="color: #8b2252;">^</span><span style="color: #8b2252;">/]*:.*"</span> <span style="color: #8b2252;">"~/.emacs.d/auto-saves/"</span> t)))
  (backup-directory-alist '((<span style="color: #8b2252;">"."</span> . <span style="color: #8b2252;">"~/.local/share/emacs/backups"</span>)))
  (delete-old-versions t)
  (directory-abbrev-alist
   '((<span style="color: #8b2252;">"\\`/org"</span> . <span style="color: #8b2252;">"~/org"</span>)
     (<span style="color: #8b2252;">"\\`/home-manager"</span> . <span style="color: #8b2252;">"~/.config/home-manager"</span>)))
  (directory-free-space-args <span style="color: #8b2252;">"-kh"</span>)
  (large-file-warning-threshold nil)
  (save-abbrevs 'silently)
  (trash-directory <span style="color: #8b2252;">"~/.Trash"</span>)
  (version-control t)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">bytecomp.el</span>
  (byte-compile-verbose nil)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">scroll-bar.el</span>
  (scroll-bar-mode nil)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">paren.el</span>
  (show-paren-delay 0)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">window.el</span>
  (same-window-buffer-names
   '(<span style="color: #8b2252;">"*eshell*"</span>
     <span style="color: #8b2252;">"*shell*"</span>
     <span style="color: #8b2252;">"*mail*"</span>
     <span style="color: #8b2252;">"*inferior-lisp*"</span>
     <span style="color: #8b2252;">"*ielm*"</span>
     <span style="color: #8b2252;">"*scheme*"</span>))
  (switch-to-buffer-preserve-window-point t)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">warnings.el</span>
  (warning-minimum-log-level <span style="color: #483d8b;">:error</span>)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">frame.el</span>
  (window-divider-default-bottom-width 1)
  (window-divider-default-places 'bottom-only)
  (add-to-list 'default-frame-alist '(fullscreen . maximized))


  <span style="color: #b22222;">;; </span><span style="color: #b22222;">mwheel.el</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">TODO: disable keybindings to  mouse-wheel-global-text-scale</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">and mouse-wheel-text-scale</span>
  (global-set-key (kbd <span style="color: #8b2252;">"&lt;C-wheel-up&gt;"</span>) nil)
  (global-set-key (kbd <span style="color: #8b2252;">"&lt;C-wheel-down&gt;"</span>) nil)

  (vc-follow-symlinks nil)
  <span style="color: #483d8b;">:init</span>
  (<span style="color: #a020f0;">setq</span> disabled-command-function nil) <span style="color: #b22222;">;; </span><span style="color: #b22222;">enable all commands</span>


  <span style="color: #483d8b;">:config</span>  
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Setup font</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(advice-add 'server-create-window-system-frame</span>
  <span style="color: #b22222;">;;              </span><span style="color: #b22222;">:after 'my/setup-fonts)</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(advice-add 'server-create-tty-frame</span>
  <span style="color: #b22222;">;;              </span><span style="color: #b22222;">:after 'my/setup-fonts)</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(unless (daemonp) (my/setup-fonts))</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">;; En</span>
  able line numbers only with programing modes
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(add-hook 'prog-mode-hook (lambda () (</span>
  <span style="color: #b22222;">;;           </span><span style="color: #b22222;">display-line-numbers-mode</span>
  <span style="color: #b22222;">;;           </span><span style="color: #b22222;">(setq-default display-line-numbers-type 'relative))))</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">This is an ugly hack the fix is upstream but hasn't been merge yet</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">https://github.com/doomemacs/doomemacs/issues/7532</span>
  (add-hook 'after-init-hook (<span style="color: #a020f0;">lambda</span> () 
                             (tool-bar-mode 1) 
                             (tool-bar-mode 0)))
  (<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my-toggle-toolbar</span> (frame)
    <span style="color: #8b2252;">"Toggle tool-bar-mode on then off when a new frame is created."</span>
    (<span style="color: #a020f0;">with-selected-frame</span> frame
      (tool-bar-mode 1)
      (tool-bar-mode 0)))

  (add-hook 'after-make-frame-functions 'my-toggle-toolbar)
  )
</pre>
</div>
</div>
<div id="outline-container-org59dc7d8" class="outline-3">
<h3 id="org59dc7d8"><span class="section-number-3">2.1.</span> String processing</h3>
<div class="outline-text-3" id="text-2-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">s</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-orgcb3ea4b" class="outline-3">
<h3 id="orgcb3ea4b"><span class="section-number-3">2.2.</span> Asyn</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Used by other packages such as org-ref
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">async</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-org1460ee7" class="outline-3">
<h3 id="org1460ee7"><span class="section-number-3">2.3.</span> Tramp</h3>
<div class="outline-text-3" id="text-2-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">Tramp</span>
<span style="color: #b22222;">;;;; </span><span style="color: #b22222;">https://www.gnu.org/software/emacs/manual/html_node/tramp/Ssh-setup.html</span>
(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">tramp</span>
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> tramp-ssh-controlmaster-options
        (concat
         <span style="color: #8b2252;">"-o ControlMaster=auto "</span>
         <span style="color: #8b2252;">"-o ControlPath=~/tmp/.ssh-control-%%r-%%h-%%p"</span>))
  (tramp-set-completion-function
   <span style="color: #8b2252;">"ssh"</span> (append (tramp-get-completion-function <span style="color: #8b2252;">"ssh"</span>)
                 (mapcar (<span style="color: #a020f0;">lambda</span> (file) `(tramp-parse-sconfig ,file))
                         (directory-files
                          <span style="color: #8b2252;">"~/.ssh/conf.d/"</span>
                          'full directory-files-no-dot-files-regexp))))

  (<span style="color: #a020f0;">setq</span> tramp-default-method <span style="color: #8b2252;">"ssh"</span>)
  (add-hook 'helm-tramp-pre-command-hook '(lambda () (global-aggressive-indent-mode 0)
                                            (projectile-mode 0)
                                            <span style="color: #b22222;">;;</span><span style="color: #b22222;">(editorconfig-mode 0)</span>
                                            ))
  (add-hook 'helm-tramp-quit-hook '(lambda () (global-aggressive-indent-mode 1)
                                     (projectile-mode 1)
                                     <span style="color: #b22222;">;;</span><span style="color: #b22222;">(editorconfig-mode 1)</span>
                                     ))
  (<span style="color: #a020f0;">setq</span> make-backup-files nil)
  (<span style="color: #a020f0;">setq</span> create-lockfiles nil)
  <span style="color: #483d8b;">:custom</span>
  (custom-set-variables  '(tramp-remote-path
                           (<span style="color: #a020f0;">quote</span>
                            (tramp-own-remote-path))))
  (debug-ignored-errors
   (cons 'remote-file-error debug-ignored-errors))
  (tramp-lock-file-name-transforms
   '((<span style="color: #8b2252;">"\\`</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">(</span><span style="color: #8b2252;">.+</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">)</span><span style="color: #8b2252;">\\'"</span> <span style="color: #8b2252;">"\\1~"</span>))))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org485f3fc" class="outline-2">
<h2 id="org485f3fc"><span class="section-number-2">3.</span> Font configuration</h2>
<div class="outline-text-2" id="text-3">
<p>
I use <code>fontaine</code> a package allows the user to define detailed font
configurations and set them on demand. For example, one can have a
regular-editing preset and another for presentation-mode (these are
arbitrary, user-defined symbols): the former uses small fonts which
are optimised for writing, while the latter applies typefaces that are
pleasant to read at comfortable point sizes.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">fontaine</span>
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> fontaine-presets
        '((small
           <span style="color: #483d8b;">:default-family</span> <span style="color: #8b2252;">"Berkeley Mono"</span>
           <span style="color: #483d8b;">:default-height</span> 80
           <span style="color: #483d8b;">:variable-pitch-family</span> <span style="color: #8b2252;">"Berkeley Mono"</span>)
          (regular) <span style="color: #b22222;">; </span><span style="color: #b22222;">like this it uses all the fallback values and is named `</span><span style="color: #008b8b;">regular</span><span style="color: #b22222;">'</span>
          (medium
           <span style="color: #483d8b;">:default-weight</span> semilight
           <span style="color: #483d8b;">:default-height</span> 115
           <span style="color: #483d8b;">:bold-weight</span> extrabold)
          (large
           <span style="color: #483d8b;">:inherit</span> medium
           <span style="color: #483d8b;">:default-height</span> 150)
          (presentation
           <span style="color: #483d8b;">:inherit</span> medium
           <span style="color: #483d8b;">:default-weight</span> light
           <span style="color: #483d8b;">:default-height</span> 180)
          (t
           <span style="color: #b22222;">;; </span><span style="color: #b22222;">I keep all properties for didactic purposes, but most can be</span>
           <span style="color: #b22222;">;; </span><span style="color: #b22222;">omitted.  See the fontaine manual for the technicalities:</span>
           <span style="color: #b22222;">;; </span><span style="color: #b22222;"><a href="https://protesilaos.com/emacs/fontaine">&lt;https://protesilaos.com/emacs/fontaine&gt;</a>.</span>
           <span style="color: #483d8b;">:default-family</span> <span style="color: #8b2252;">"Berkeley Mono"</span>
           <span style="color: #483d8b;">:default-weight</span> regular
           <span style="color: #483d8b;">:default-height</span> 100
           <span style="color: #483d8b;">:fixed-pitch-family</span> nil <span style="color: #b22222;">; </span><span style="color: #b22222;">falls back to :default-family</span>
           <span style="color: #483d8b;">:fixed-pitch-weight</span> nil <span style="color: #b22222;">; </span><span style="color: #b22222;">falls back to :default-weight</span>
           <span style="color: #483d8b;">:fixed-pitch-height</span> 1.0
           <span style="color: #483d8b;">:fixed-pitch-serif-family</span> nil <span style="color: #b22222;">; </span><span style="color: #b22222;">falls back to :default-family</span>
           <span style="color: #483d8b;">:fixed-pitch-serif-weight</span> nil <span style="color: #b22222;">; </span><span style="color: #b22222;">falls back to :default-weight</span>
           <span style="color: #483d8b;">:fixed-pitch-serif-height</span> 1.0
           <span style="color: #483d8b;">:variable-pitch-family</span> <span style="color: #8b2252;">"Berkeley Mono"</span>
           <span style="color: #483d8b;">:variable-pitch-weight</span> nil
           <span style="color: #483d8b;">:variable-pitch-height</span> 1.0
           <span style="color: #483d8b;">:bold-family</span> nil <span style="color: #b22222;">; </span><span style="color: #b22222;">use whatever the underlying face has</span>
           <span style="color: #483d8b;">:bold-weight</span> bold
           <span style="color: #483d8b;">:italic-family</span> nil
           <span style="color: #483d8b;">:italic-slant</span> italic
           <span style="color: #483d8b;">:line-spacing</span> nil)))

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Set last preset or fall back to desired style from `</span><span style="color: #008b8b;">fontaine-presets</span><span style="color: #b22222;">'.</span>
  (fontaine-set-preset (<span style="color: #a020f0;">or</span> (fontaine-restore-latest-preset) 'regular))

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">The other side of `</span><span style="color: #008b8b;">fontaine-restore-latest-preset</span><span style="color: #b22222;">'.</span>
  (add-hook 'kill-emacs-hook #'fontaine-store-latest-preset)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Persist font configurations while switching themes.  The</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">`</span><span style="color: #008b8b;">enable-theme-functions</span><span style="color: #b22222;">' is from Emacs 29.</span>
  (add-hook 'enable-theme-functions #'fontaine-apply-current-preset)

)
</pre>
</div>
</div>
</div>
<div id="outline-container-org4254609" class="outline-2">
<h2 id="org4254609"><span class="section-number-2">4.</span> Completion</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org48e866a" class="outline-3">
<h3 id="org48e866a"><span class="section-number-3">4.1.</span> vetico</h3>
<div class="outline-text-3" id="text-4-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Enable vertico</span>
(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">vertico</span>
  <span style="color: #483d8b;">:init</span>
  (vertico-mode)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Different scroll margin</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(setq vertico-scroll-margin 0)</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Show more candidates</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(setq vertico-count 20)</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Grow and shrink the Vertico minibuffer</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(setq vertico-resize t)</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Optionally enable cycling for `</span><span style="color: #008b8b;">vertico-next</span><span style="color: #b22222;">' and `</span><span style="color: #008b8b;">vertico-previous</span><span style="color: #b22222;">'.</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(setq vertico-cycle t)</span>
  )

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Persist history over Emacs restarts. Vertico sorts by history position.</span>
(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">savehist</span>
  <span style="color: #483d8b;">:init</span>
  (savehist-mode))

<span style="color: #b22222;">;; </span><span style="color: #b22222;">A few more useful configurations...</span>
(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">emacs</span>
  <span style="color: #483d8b;">:init</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Add prompt indicator to `</span><span style="color: #008b8b;">completing-read-multiple</span><span style="color: #b22222;">'.</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">We display [CRM&lt;separator&gt;], e.g., [CRM,] if the separator is a comma.</span>
  (<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">crm-indicator</span> (args)
    (cons (format <span style="color: #8b2252;">"[CRM%s] %s"</span>
                  (replace-regexp-in-string
                   <span style="color: #8b2252;">"\\`\\[</span><span style="color: #008b8b;">.*?</span><span style="color: #8b2252;">]\\*</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">\\[</span><span style="color: #008b8b;">.*?</span><span style="color: #8b2252;">]\\*\\'"</span> <span style="color: #8b2252;">""</span>
                   crm-separator)
                  (car args))
          (cdr args)))
  (advice-add #'completing-read-multiple <span style="color: #483d8b;">:filter-args</span> #'crm-indicator)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Do not allow the cursor in the minibuffer prompt</span>
  (<span style="color: #a020f0;">setq</span> minibuffer-prompt-properties
        '(read-only t cursor-intangible t face minibuffer-prompt))
  (add-hook 'minibuffer-setup-hook #'cursor-intangible-mode)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Support opening new minibuffers from inside existing minibuffers.</span>
  (<span style="color: #a020f0;">setq</span> enable-recursive-minibuffers t)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Emacs 28 and newer: Hide commands in M-x which do not work in the current</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">mode.  Vertico commands are hidden in normal buffers. This setting is</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">useful beyond Vertico.</span>
  (<span style="color: #a020f0;">setq</span> read-extended-command-predicate #'command-completion-default-include-p))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgbf298c6" class="outline-3">
<h3 id="orgbf298c6"><span class="section-number-3">4.2.</span> corfu</h3>
<div class="outline-text-3" id="text-4-2">
<p>
Corfu enhances in-buffer completion with a small completion popup. The
current candidates are shown in a popup below or above the point. The
candidates can be selected by moving up and down. Corfu is the
minimalistic in-buffer completion counterpart of the Vertico
minibuffer UI. 
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">  (<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">corfu</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Optional customizations</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">:custom</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(corfu-cycle t)                ;; Enable cycling for `</span><span style="color: #008b8b;">corfu-next/previous</span><span style="color: #b22222;">'</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(corfu-auto t)                 ;; Enable auto completion</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(corfu-separator ?\s)          ;; Orderless field separator</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(corfu-quit-at-boundary nil)   ;; Never quit at completion boundary</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(corfu-quit-no-match nil)      ;; Never quit, even if there is no match</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(corfu-preview-current nil)    ;; Disable current candidate preview</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(corfu-preselect 'prompt)      ;; Preselect the prompt</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(corfu-on-exact-match nil)     ;; Configure handling of exact matches</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(corfu-scroll-margin 5)        ;; Use scroll margin</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Enable Corfu only for certain modes.</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">:hook ((prog-mode . corfu-mode)</span>
  <span style="color: #b22222;">;;        </span><span style="color: #b22222;">(shell-mode . corfu-mode)</span>
  <span style="color: #b22222;">;;        </span><span style="color: #b22222;">(eshell-mode . corfu-mode))</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Recommended: Enable Corfu globally.  This is recommended since Dabbrev can</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">be used globally (M-/).  See also the customization variable</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">`</span><span style="color: #008b8b;">global-corfu-modes</span><span style="color: #b22222;">' to exclude certain modes.</span>
  <span style="color: #483d8b;">:init</span>
  (global-corfu-mode))

<span style="color: #b22222;">;; </span><span style="color: #b22222;">A few more useful configurations...</span>
(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">emacs</span>
  <span style="color: #483d8b;">:init</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">TAB cycle if there are only few candidates</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(setq completion-cycle-threshold 3)</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Enable indentation+completion using the TAB key.</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">`</span><span style="color: #008b8b;">completion-at-point</span><span style="color: #b22222;">' is often bound to M-TAB.</span>
  (<span style="color: #a020f0;">setq</span> tab-always-indent 'complete)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Emacs 30 and newer: Disable Ispell completion function. As an alternative,</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">try `</span><span style="color: #008b8b;">cape-dict</span><span style="color: #b22222;">'.</span>
  (<span style="color: #a020f0;">setq</span> text-mode-ispell-word-completion nil)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Emacs 28 and newer: Hide commands in M-x which do not apply to the current</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">mode.  Corfu commands are hidden, since they are not used via M-x. This</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">setting is useful beyond Corfu.</span>
  (<span style="color: #a020f0;">setq</span> read-extended-command-predicate #'command-completion-default-include-p))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgeb65b83" class="outline-3">
<h3 id="orgeb65b83"><span class="section-number-3">4.3.</span> orderless</h3>
<div class="outline-text-3" id="text-4-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;;; </span><span style="color: #b22222;">Orderless</span>
(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">orderless</span>
  <span style="color: #483d8b;">:init</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Configure a custom style dispatcher (see the Consult wiki)</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(setq orderless-style-dispatchers '(+orderless-consult-dispatch orderless-affix-dispatch)</span>
  <span style="color: #b22222;">;;       </span><span style="color: #b22222;">orderless-component-separator #'orderless-escapable-split-on-space)</span>
  (<span style="color: #a020f0;">setq</span> completion-styles '(orderless basic)
        completion-category-defaults nil
        completion-category-overrides '((file (styles partial-completion))))
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">prefixes-for-separators</span> (pattern _index _total)
    (<span style="color: #a020f0;">when</span> (string-match-p <span style="color: #8b2252;">"^[</span><span style="color: #8b2252;">^</span><span style="color: #8b2252;">][</span><span style="color: #8b2252;">^</span><span style="color: #8b2252;">\\+*]*[./-][</span><span style="color: #8b2252;">^</span><span style="color: #8b2252;">][\\+*$]*$"</span> pattern)
      (cons 'orderless-prefixes pattern)))
  (<span style="color: #a020f0;">cl-pushnew</span> '(?` . orderless-regexp) orderless-affix-dispatch-alist)
  <span style="color: #483d8b;">:custom</span>
  (orderless-style-dispatchers
   '(orderless-affix-dispatch prefixes-for-separators))
  )

</pre>
</div>
</div>
</div>
<div id="outline-container-org7cf67c2" class="outline-3">
<h3 id="org7cf67c2"><span class="section-number-3">4.4.</span> embark</h3>
<div class="outline-text-3" id="text-4-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">embark</span>
  <span style="color: #483d8b;">:bind</span>
  ((<span style="color: #8b2252;">"C-."</span> . embark-act)         <span style="color: #b22222;">;; </span><span style="color: #b22222;">pick some comfortable binding</span>
   (<span style="color: #8b2252;">"C-;"</span> . embark-dwim)        <span style="color: #b22222;">;; </span><span style="color: #b22222;">good alternative: M-.</span>
   (<span style="color: #8b2252;">"C-h B"</span> . embark-bindings)) <span style="color: #b22222;">;; </span><span style="color: #b22222;">alternative for `</span><span style="color: #008b8b;">describe-bindings</span><span style="color: #b22222;">'</span>

  <span style="color: #483d8b;">:init</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Optionally replace the key help with a completing-read interface</span>
  (<span style="color: #a020f0;">setq</span> prefix-help-command #'embark-prefix-help-command)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Show the Embark target at point via Eldoc. You may adjust the</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Eldoc strategy, if you want to see the documentation from</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">multiple providers. Beware that using this can be a little</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">jarring since the message shown in the minibuffer can be more</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">than one line, causing the modeline to move up and down:</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(add-hook 'eldoc-documentation-functions #'embark-eldoc-first-target)</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(setq eldoc-documentation-strategy #'eldoc-documentation-compose-eagerly)</span>

  <span style="color: #483d8b;">:config</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Hide the mode line of the Embark live/completions buffers</span>
  (add-to-list 'display-buffer-alist
               '(<span style="color: #8b2252;">"\\`\\*Embark Collect </span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">(</span><span style="color: #8b2252;">Live</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">Completions</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">)</span><span style="color: #8b2252;">\\*"</span>
                 nil
                 (window-parameters (mode-line-format . none)))))
</pre>
</div>
</div>
</div>
<div id="outline-container-org087b269" class="outline-3">
<h3 id="org087b269"><span class="section-number-3">4.5.</span> Marginalia</h3>
<div class="outline-text-3" id="text-4-5">
<p>
Enable rich annotations using the Marginalia package
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">marginalia</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Bind `</span><span style="color: #008b8b;">marginalia-cycle</span><span style="color: #b22222;">' locally in the minibuffer.  To make the binding</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">available in the *Completions* buffer, add it to the</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">`</span><span style="color: #008b8b;">completion-list-mode-map</span><span style="color: #b22222;">'.</span>
  <span style="color: #483d8b;">:bind</span> (<span style="color: #483d8b;">:map</span> minibuffer-local-map
         (<span style="color: #8b2252;">"M-A"</span> . marginalia-cycle))

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">The :init section is always executed.</span>
  <span style="color: #483d8b;">:init</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Marginalia must be activated in the :init section of use-package such that</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">the mode gets enabled right away. Note that this forces loading the</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">package.</span>
  (marginalia-mode))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgbc26fdc" class="outline-3">
<h3 id="orgbc26fdc"><span class="section-number-3">4.6.</span> <span class="todo TODO">TODO</span> ivy</h3>
</div>
<div id="outline-container-org089617a" class="outline-3">
<h3 id="org089617a"><span class="section-number-3">4.7.</span> consult</h3>
<div class="outline-text-3" id="text-4-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">Example configuration for Consult</span>
(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">consult</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Replace bindings. Lazily loaded due by `</span><span style="color: #008b8b;">use-package</span><span style="color: #b22222;">'.</span>
  <span style="color: #483d8b;">:bind</span> (<span style="color: #b22222;">;; </span><span style="color: #b22222;">C-c bindings in `</span><span style="color: #008b8b;">mode-specific-map</span><span style="color: #b22222;">'</span>
         (<span style="color: #8b2252;">"C-c M-x"</span> . consult-mode-command)
         (<span style="color: #8b2252;">"C-c h"</span> . consult-history)
         (<span style="color: #8b2252;">"C-c k"</span> . consult-kmacro)
         (<span style="color: #8b2252;">"C-c m"</span> . consult-man)
         (<span style="color: #8b2252;">"C-c i"</span> . consult-info)
         ([remap Info-search] . consult-info)
         <span style="color: #b22222;">;; </span><span style="color: #b22222;">C-x bindings in `</span><span style="color: #008b8b;">ctl-x-map</span><span style="color: #b22222;">'</span>
         (<span style="color: #8b2252;">"C-x M-:"</span> . consult-complex-command)     <span style="color: #b22222;">;; </span><span style="color: #b22222;">orig. repeat-complex-command</span>
         (<span style="color: #8b2252;">"C-x b"</span> . consult-buffer)                <span style="color: #b22222;">;; </span><span style="color: #b22222;">orig. switch-to-buffer</span>
         (<span style="color: #8b2252;">"C-x 4 b"</span> . consult-buffer-other-window) <span style="color: #b22222;">;; </span><span style="color: #b22222;">orig. switch-to-buffer-other-window</span>
         (<span style="color: #8b2252;">"C-x 5 b"</span> . consult-buffer-other-frame)  <span style="color: #b22222;">;; </span><span style="color: #b22222;">orig. switch-to-buffer-other-frame</span>
         (<span style="color: #8b2252;">"C-x t b"</span> . consult-buffer-other-tab)    <span style="color: #b22222;">;; </span><span style="color: #b22222;">orig. switch-to-buffer-other-tab</span>
         (<span style="color: #8b2252;">"C-x r b"</span> . consult-bookmark)            <span style="color: #b22222;">;; </span><span style="color: #b22222;">orig. bookmark-jump</span>
         (<span style="color: #8b2252;">"C-x p b"</span> . consult-project-buffer)      <span style="color: #b22222;">;; </span><span style="color: #b22222;">orig. project-switch-to-buffer</span>
         <span style="color: #b22222;">;; </span><span style="color: #b22222;">Custom M-# bindings for fast register access</span>
         (<span style="color: #8b2252;">"M-#"</span> . consult-register-load)
         (<span style="color: #8b2252;">"M-'"</span> . consult-register-store)          <span style="color: #b22222;">;; </span><span style="color: #b22222;">orig. abbrev-prefix-mark (unrelated)</span>
         (<span style="color: #8b2252;">"C-M-#"</span> . consult-register)
         <span style="color: #b22222;">;; </span><span style="color: #b22222;">Other custom bindings</span>
         (<span style="color: #8b2252;">"M-y"</span> . consult-yank-pop)                <span style="color: #b22222;">;; </span><span style="color: #b22222;">orig. yank-pop</span>
         <span style="color: #b22222;">;; </span><span style="color: #b22222;">M-g bindings in `</span><span style="color: #008b8b;">goto-map</span><span style="color: #b22222;">'</span>
         (<span style="color: #8b2252;">"M-g e"</span> . consult-compile-error)
         (<span style="color: #8b2252;">"M-g f"</span> . consult-flymake)               <span style="color: #b22222;">;; </span><span style="color: #b22222;">Alternative: consult-flycheck</span>
         (<span style="color: #8b2252;">"M-g g"</span> . consult-goto-line)             <span style="color: #b22222;">;; </span><span style="color: #b22222;">orig. goto-line</span>
         (<span style="color: #8b2252;">"M-g M-g"</span> . consult-goto-line)           <span style="color: #b22222;">;; </span><span style="color: #b22222;">orig. goto-line</span>
         (<span style="color: #8b2252;">"M-g o"</span> . consult-outline)               <span style="color: #b22222;">;; </span><span style="color: #b22222;">Alternative: consult-org-heading</span>
         (<span style="color: #8b2252;">"M-g m"</span> . consult-mark)
         (<span style="color: #8b2252;">"M-g k"</span> . consult-global-mark)
         (<span style="color: #8b2252;">"M-g i"</span> . consult-imenu)
         (<span style="color: #8b2252;">"M-g I"</span> . consult-imenu-multi)
         <span style="color: #b22222;">;; </span><span style="color: #b22222;">M-s bindings in `</span><span style="color: #008b8b;">search-map</span><span style="color: #b22222;">'</span>
         (<span style="color: #8b2252;">"M-s d"</span> . consult-fd)                  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Alternative: consult-fd</span>
         (<span style="color: #8b2252;">"M-s c"</span> . consult-locate)
         (<span style="color: #8b2252;">"M-s g"</span> . consult-grep)
         (<span style="color: #8b2252;">"M-s G"</span> . consult-git-grep)
         (<span style="color: #8b2252;">"M-s r"</span> . consult-ripgrep)
         (<span style="color: #8b2252;">"M-s l"</span> . consult-line)
         (<span style="color: #8b2252;">"M-s L"</span> . consult-line-multi)
         (<span style="color: #8b2252;">"M-s k"</span> . consult-keep-lines)
         (<span style="color: #8b2252;">"M-s u"</span> . consult-focus-lines)
         <span style="color: #b22222;">;; </span><span style="color: #b22222;">Isearch integration</span>
         (<span style="color: #8b2252;">"M-s e"</span> . consult-isearch-history)
         <span style="color: #483d8b;">:map</span> isearch-mode-map
         (<span style="color: #8b2252;">"M-e"</span> . consult-isearch-history)         <span style="color: #b22222;">;; </span><span style="color: #b22222;">orig. isearch-edit-string</span>
         (<span style="color: #8b2252;">"M-s e"</span> . consult-isearch-history)       <span style="color: #b22222;">;; </span><span style="color: #b22222;">orig. isearch-edit-string</span>
         (<span style="color: #8b2252;">"M-s l"</span> . consult-line)                  <span style="color: #b22222;">;; </span><span style="color: #b22222;">needed by consult-line to detect isearch</span>
         (<span style="color: #8b2252;">"M-s L"</span> . consult-line-multi)            <span style="color: #b22222;">;; </span><span style="color: #b22222;">needed by consult-line to detect isearch</span>
         <span style="color: #b22222;">;; </span><span style="color: #b22222;">Minibuffer history</span>
         <span style="color: #483d8b;">:map</span> minibuffer-local-map
         (<span style="color: #8b2252;">"M-s"</span> . consult-history)                 <span style="color: #b22222;">;; </span><span style="color: #b22222;">orig. next-matching-history-element</span>
         (<span style="color: #8b2252;">"M-r"</span> . consult-history))                <span style="color: #b22222;">;; </span><span style="color: #b22222;">orig. previous-matching-history-element</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Enable automatic preview at point in the *Completions* buffer. This is</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">relevant when you use the default completion UI.</span>
  <span style="color: #483d8b;">:hook</span> (completion-list-mode . consult-preview-at-point-mode)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">The :init configuration is always executed (Not lazy)</span>
  <span style="color: #483d8b;">:init</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Optionally configure the register formatting. This improves the register</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">preview for `</span><span style="color: #008b8b;">consult-register</span><span style="color: #b22222;">', `</span><span style="color: #008b8b;">consult-register-load</span><span style="color: #b22222;">',</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">`</span><span style="color: #008b8b;">consult-register-store</span><span style="color: #b22222;">' and the Emacs built-ins.</span>
  (<span style="color: #a020f0;">setq</span> register-preview-delay 0.5
        register-preview-function #'consult-register-format)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Optionally tweak the register preview window.</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">This adds thin lines, sorting and hides the mode line of the window.</span>
  (advice-add #'register-preview <span style="color: #483d8b;">:override</span> #'consult-register-window)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Use Consult to select xref locations with preview</span>
  (<span style="color: #a020f0;">setq</span> xref-show-xrefs-function #'consult-xref
        xref-show-definitions-function #'consult-xref)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Configure other variables and modes in the :config section,</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">after lazily loading the package.</span>
  <span style="color: #483d8b;">:config</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Optionally configure preview. The default value</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">is 'any, such that any key triggers the preview.</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(setq consult-preview-key 'any)</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(setq consult-preview-key "M-.")</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(setq consult-preview-key '("S-&lt;down&gt;" "S-&lt;up&gt;"))</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">For some commands and buffer sources it is useful to configure the</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">:preview-key on a per-command basis using the `</span><span style="color: #008b8b;">consult-customize</span><span style="color: #b22222;">' macro.</span>
  (<span style="color: #a020f0;">consult-customize</span>
   consult-theme <span style="color: #483d8b;">:preview-key</span> '(<span style="color: #483d8b;">:debounce</span> 0.2 any)
   consult-ripgrep consult-git-grep consult-grep
   consult-bookmark consult-recent-file consult-xref
   consult--source-bookmark consult--source-file-register
   consult--source-recent-file consult--source-project-recent-file
   <span style="color: #b22222;">;; </span><span style="color: #b22222;">:preview-key "M-."</span>
   <span style="color: #483d8b;">:preview-key</span> '(<span style="color: #483d8b;">:debounce</span> 0.4 any))

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Optionally configure the narrowing key.</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Both &lt; and C-+ work reasonably well.</span>
  (<span style="color: #a020f0;">setq</span> consult-narrow-key <span style="color: #8b2252;">"&lt;"</span>) <span style="color: #b22222;">;; </span><span style="color: #b22222;">"C-+"</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Optionally make narrowing help available in the minibuffer.</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">You may want to use `</span><span style="color: #008b8b;">embark-prefix-help-command</span><span style="color: #b22222;">' or which-key instead.</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(define-key consult-narrow-map (vconcat consult-narrow-key "?") #'consult-narrow-help)</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">By default `</span><span style="color: #008b8b;">consult-project-function</span><span style="color: #b22222;">' uses `</span><span style="color: #008b8b;">project-root</span><span style="color: #b22222;">' from project.el.</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Optionally configure a different project root function.</span>
  <span style="color: #b22222;">;;;; </span><span style="color: #b22222;">1. project.el (the default)</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(setq consult-project-function #'consult--default-project--function)</span>
  <span style="color: #b22222;">;;;; </span><span style="color: #b22222;">2. vc.el (vc-root-dir)</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(setq consult-project-function (lambda (_) (vc-root-dir)))</span>
  <span style="color: #b22222;">;;;; </span><span style="color: #b22222;">3. locate-dominating-file</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(setq consult-project-function (lambda (_) (locate-dominating-file "." ".git")))</span>
  <span style="color: #b22222;">;;;; </span><span style="color: #b22222;">4. projectile.el (projectile-project-root)</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(autoload 'projectile-project-root "projectile")</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(setq consult-project-function (lambda (_) (projectile-project-root)))</span>
  <span style="color: #b22222;">;;;; </span><span style="color: #b22222;">5. No project support</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(setq consult-project-function nil)</span>

  (add-to-list 'consult-fd-args <span style="color: #8b2252;">"--hidden"</span> t)
  (add-to-list 'consult-fd-args <span style="color: #8b2252;">"--exclude .git"</span> t)
  )

</pre>
</div>
<p>
The package embark-consult should be installed if you use both Embark and Consult
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">embark-consult</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfc5693a" class="outline-3">
<h3 id="orgfc5693a"><span class="section-number-3">4.8.</span> Helm</h3>
<div class="outline-text-3" id="text-4-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;;; </span><span style="color: #b22222;">Helm</span>
(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">helm-rg</span>
<span style="color: #483d8b;">:straight</span> t)

(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">helm-projectile</span>
  <span style="color: #483d8b;">:straight</span> t
  <span style="color: #483d8b;">:config</span>
  (helm-projectile-on))


(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">helm-tramp</span>
  <span style="color: #483d8b;">:straight</span> t
  <span style="color: #483d8b;">:config</span>
  (define-key global-map (kbd <span style="color: #8b2252;">"C-c s"</span>) 'helm-tramp))

(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">helm-org-rifle</span>
   <span style="color: #483d8b;">:straight</span> t)

(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">helm-bibtex</span>
  <span style="color: #483d8b;">:straight</span> t
  <span style="color: #483d8b;">:config</span>)

(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">helm</span>
  <span style="color: #483d8b;">:straight</span> t
  <span style="color: #483d8b;">:demand</span> t
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">helm-source</span>)

  (global-set-key (kbd <span style="color: #8b2252;">"M-x"</span>) #'helm-M-x)
  (global-set-key (kbd <span style="color: #8b2252;">"C-x m"</span>) #'helm-M-x)
  (global-set-key (kbd <span style="color: #8b2252;">"C-c m"</span>) #'helm-M-x)
  (global-set-key (kbd <span style="color: #8b2252;">"C-x r b"</span>) #'helm-filtered-bookmarks)
  (global-set-key (kbd <span style="color: #8b2252;">"C-x C-f"</span>) #'helm-find-files)
  (global-set-key (kbd <span style="color: #8b2252;">"C-c i n"</span>) #'helm-complete-file-name-at-point)
  (global-set-key (kbd <span style="color: #8b2252;">"C-x i"</span>) #'helm-imenu)
  (global-set-key (kbd <span style="color: #8b2252;">"C-x b"</span>) 'helm-mini)
  (global-set-key (kbd <span style="color: #8b2252;">"C-h SPC"</span>) 'helm-all-mark-rings)
  (global-set-key (kbd <span style="color: #8b2252;">"C-c h x"</span>) 'helm-register)
  (global-set-key (kbd <span style="color: #8b2252;">"C-c h M-:"</span>) 'helm-eval-expression-with-eldoc)

  (<span style="color: #a020f0;">setq</span> helm-buffers-fuzzy-matching t
      helm-recentf-fuzzy-match    t)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">The default "C-x c" is quite close to "C-x C-c", which quits Emacs.</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Changed to "C-c h". Note: We must set "C-c h" globally, because we</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">cannot change `</span><span style="color: #008b8b;">helm-command-prefix-key</span><span style="color: #b22222;">' once `</span><span style="color: #008b8b;">helm-config</span><span style="color: #b22222;">' is loaded.</span>
  (global-set-key (kbd <span style="color: #8b2252;">"C-c h"</span>) 'helm-command-prefix)
  (global-unset-key (kbd <span style="color: #8b2252;">"C-x c"</span>))

  (define-key helm-map (kbd <span style="color: #8b2252;">"&lt;tab&gt;"</span>) 'helm-execute-persistent-action) <span style="color: #b22222;">; </span><span style="color: #b22222;">rebind tab to run persistent action</span>
  (define-key helm-map (kbd <span style="color: #8b2252;">"C-i"</span>) 'helm-execute-persistent-action) <span style="color: #b22222;">; </span><span style="color: #b22222;">make TAB work in terminal</span>
  (define-key helm-map (kbd <span style="color: #8b2252;">"C-z"</span>)  'helm-select-action) <span style="color: #b22222;">; </span><span style="color: #b22222;">list actions using C-z</span>


  (<span style="color: #a020f0;">when</span> (executable-find <span style="color: #8b2252;">"curl"</span>)
    (<span style="color: #a020f0;">setq</span> helm-google-suggest-use-curl-p t))

  <span style="color: #b22222;">; </span><span style="color: #b22222;">open helm buffer inside current window, not occupy whole other window</span>
  (<span style="color: #a020f0;">setq</span> helm-split-window-in-side-p           t
        <span style="color: #b22222;">; </span><span style="color: #b22222;">move to end or beginning of source when reaching top or bottom of source.</span>
        helm-move-to-line-cycle-in-source     t
        <span style="color: #b22222;">; </span><span style="color: #b22222;">search for library in `</span><span style="color: #008b8b;">require</span><span style="color: #b22222;">' and `</span><span style="color: #008b8b;">declare-function</span><span style="color: #b22222;">' sexp.</span>
        helm-ff-search-library-in-sexp        t
        <span style="color: #b22222;">; </span><span style="color: #b22222;">scroll 8 lines other window using M-&lt;next&gt;/M-&lt;prior&gt;</span>
        helm-scroll-amount                    8
        helm-ff-file-name-history-use-recentf t
        helm-echo-input-in-header-line t)

  (<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">spacemacs//helm-hide-minibuffer-maybe</span> ()
    <span style="color: #8b2252;">"Hide minibuffer in Helm session if we use the header line as input field."</span>
    (<span style="color: #a020f0;">when</span> (with-helm-buffer helm-echo-input-in-header-line)
      (<span style="color: #a020f0;">let</span> ((ov (make-overlay (point-min) (point-max) nil nil t)))
        (overlay-put ov 'window (selected-window))
        (overlay-put ov 'face
                     (<span style="color: #a020f0;">let</span> ((bg-color (face-background 'default nil)))
                       `(<span style="color: #483d8b;">:background</span> ,bg-color <span style="color: #483d8b;">:foreground</span> ,bg-color)))
        (<span style="color: #a020f0;">setq-local</span> cursor-type nil))))

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(when (executable-find "ack-grep")</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(setq helm-grep-default-command "ack-grep -Hn --no-group --no-color %e %p %f"</span>
  <span style="color: #b22222;">;;       </span><span style="color: #b22222;">helm-grep-default-recurse-command "ack-grep -H --no-group --no-color %e %p %f"))</span>

  (add-to-list 'helm-sources-using-default-as-input 'helm-source-man-pages)

  (add-hook 'helm-minibuffer-set-up-hook
            'spacemacs//helm-hide-minibuffer-maybe)

  (<span style="color: #a020f0;">setq</span> helm-autoresize-max-height 0)
  (<span style="color: #a020f0;">setq</span> helm-autoresize-min-height 40)
  (helm-autoresize-mode 1)



  (<span style="color: #a020f0;">setq</span> helm-completion-style 'helm)
  (<span style="color: #a020f0;">setq</span> helm-M-x-fuzzy-match t)
  (<span style="color: #a020f0;">setq</span> helm-apropos-fuzzy-match t)
  (<span style="color: #a020f0;">setq</span> helm-lisp-fuzzy-completion t)
  (helm-mode t)
  )
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd5fea94" class="outline-3">
<h3 id="orgd5fea94"><span class="section-number-3">4.9.</span> ido</h3>
<div class="outline-text-3" id="text-4-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;;; </span><span style="color: #b22222;">ido</span>
(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">ido</span>
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> ido-enable-flex-matching t)
  (ido-mode t)
  <span style="color: #b22222;">;;</span><span style="color: #b22222;">(setq ido-everywhere t)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org2fdb26a" class="outline-3">
<h3 id="org2fdb26a"><span class="section-number-3">4.10.</span> Avy</h3>
<div class="outline-text-3" id="text-4-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">avy</span>
  <span style="color: #483d8b;">:straight</span> t
  <span style="color: #483d8b;">:config</span>
  (avy-setup-default)
  <span style="color: #483d8b;">:bind</span>
  ((<span style="color: #8b2252;">"C-:"</span> . avy-goto-char)
   (<span style="color: #8b2252;">"C-'"</span> . avy-goto-char-2)
   (<span style="color: #8b2252;">"M-g f"</span> . avy-goto-line)
   (<span style="color: #8b2252;">"M-g w"</span> . avy-goto-word-1)
   (<span style="color: #8b2252;">"M-g e"</span> . avy-goto-word-0)
   (<span style="color: #8b2252;">"C-c C-j"</span> . avy-resume)))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org846a764" class="outline-2">
<h2 id="org846a764"><span class="section-number-2">5.</span> Knowledge management</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-orgf00bb8b" class="outline-3">
<h3 id="orgf00bb8b"><span class="section-number-3">5.1.</span> Hyperbole</h3>
<div class="outline-text-3" id="text-5-1">
<p>
I use hyperbole to control multiple aspects of emacs
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;;; </span><span style="color: #b22222;">Hyperbole</span>
(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">hyperbole</span>
  <span style="color: #483d8b;">:config</span>
  (add-to-list 'Info-directory-list (concat hyperb:dir <span style="color: #8b2252;">"man/"</span>))
  (add-to-list 'hyrolo-file-list (concat org-directory <span style="color: #8b2252;">"people.org"</span>))
  (hyperbole-mode t)
  (add-hook 'hyperbole-init-hook
            (<span style="color: #a020f0;">lambda</span> ()
              (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">org</span>)
              (<span style="color: #a020f0;">setq</span> hyrolo-file-list (append (hyrolo-initialize-file-list)
                                             (list org-directory))))))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd42f3b7" class="outline-3">
<h3 id="orgd42f3b7"><span class="section-number-3">5.2.</span> Org mode</h3>
<div class="outline-text-3" id="text-5-2">
<p>
Org is the main component of knowledge management
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;;; </span><span style="color: #b22222;">Org-mode</span>
(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">org</span>
  <span style="color: #483d8b;">:init</span>
  <span style="color: #b22222;">;;;; </span><span style="color: #b22222;">org babel support for nix</span>
  (<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">ob-nix</span>)
  <span style="color: #483d8b;">:bind</span>
  (<span style="color: #8b2252;">"C-c l"</span> . 'org-store-link)
  (<span style="color: #8b2252;">"C-c a"</span> . 'org-agenda)
  (<span style="color: #8b2252;">"C-c c"</span> . 'org-capture)
  (<span style="color: #8b2252;">"C-c n"</span> . 'org-toggle-narrow-to-subtree)
  <span style="color: #483d8b;">:hook</span> (org-mode . auto-revert-mode)
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">org-protocol</span>)
  (<span style="color: #a020f0;">setq</span> auto-revert-verbose nil)
  (<span style="color: #a020f0;">setq</span> org-directory
        <span style="color: #8b2252;">"~/Documents/org/"</span>)
  (<span style="color: #a020f0;">setq</span> org-log-done 'time)
  (<span style="color: #a020f0;">setq</span> org-agenda-files (list org-directory))
  (<span style="color: #a020f0;">setq</span> org-refile-use-outline-path 'file)
  (<span style="color: #a020f0;">setq</span> org-refile-targets '(
                             (nil <span style="color: #483d8b;">:maxlevel</span> . 5)
                             (org-agenda-files <span style="color: #483d8b;">:maxlevel</span> . 5)))
  (<span style="color: #a020f0;">setq</span> org-outline-path-complete-in-steps nil)
  (<span style="color: #a020f0;">setq</span> org-default-notes-file (concat org-directory <span style="color: #8b2252;">"notes.org"</span>))
  (<span style="color: #a020f0;">setq</span> org-capture-templates
        `((<span style="color: #8b2252;">"i"</span> <span style="color: #8b2252;">"inbox"</span> entry (file ,(concat org-directory <span style="color: #8b2252;">"inbox.org"</span>))
           <span style="color: #8b2252;">"* TODO %?"</span>)
          (<span style="color: #8b2252;">"l"</span> <span style="color: #8b2252;">"link"</span> entry (file ,(concat org-directory <span style="color: #8b2252;">"inbox.org"</span>))
           <span style="color: #8b2252;">"* TODO %(org-cliplink-capture)"</span> <span style="color: #483d8b;">:immediate-finish</span> t)
          (<span style="color: #8b2252;">"c"</span> <span style="color: #8b2252;">"org-protocol-capture"</span> entry (file ,(concat org-directory <span style="color: #8b2252;">"/inbox.org"</span>))
           <span style="color: #8b2252;">"* TODO [[%:link][%:description]]\n\n %i"</span> <span style="color: #483d8b;">:immediate-finish</span> t)
          (<span style="color: #8b2252;">"u"</span> <span style="color: #8b2252;">"URL capture from Safari"</span> entry (
                                                file+olp+datetree ,(concat org-directory <span style="color: #8b2252;">"/links.org"</span>))
           <span style="color: #8b2252;">"* %i    :safari:url:\n%U\n\n"</span>)))
  (org-babel-do-load-languages
   'org-babel-load-languages
   '((nix . t)
     (shell . t)
     (python . t))))
</pre>
</div>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">org-download</span>)
(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">org-transclusion</span>)

(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">org-noter</span>
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> org-noter-auto-save-last-location t))

(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">org-ref</span>
  <span style="color: #483d8b;">:bind</span>
  (<span style="color: #483d8b;">:map</span> org-mode-map
        (<span style="color: #8b2252;">"C-c ]"</span> . org-ref-insert-link))
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">org-ref-arxiv</span>)
  (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">org-ref-scopus</span>)
  (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">org-ref-wos</span>)
  (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">org-</span>
  <span style="color: #483d8b;">:custom</span>
  <span style="color: #b22222;">;;  </span><span style="color: #b22222;">(bibtex-completion-bibliography '("~/Documents/bibliography.bib"))</span>
  (bibtex-completion-bibliography '(<span style="color: #8b2252;">"~/Documents/library/inbox.bib"</span>))
  (bibtex-completion-library-path '(<span style="color: #8b2252;">"~/Documents/library/"</span>))
  (bibtex-completion-notes-path <span style="color: #8b2252;">"~/Documents/library/notes/"</span>)
  (bibtex-completion-notes-template-multiple-files <span style="color: #8b2252;">"*${author-or-editor}, ${title}, ${journal}, (${year}) :${=type=}:</span>
<span style="color: #8b2252;"> \n\nSee [[cite:&amp;${=key=}]]\n"</span>)
  (bibtex-completion-additional-search-fields '(keywords))
  (bibtex-completion-display-formats '((article       . <span style="color: #8b2252;">"${=has-pdf=:1}${=has-note=:1} ${year:4} ${author:36} ${title:*}</span>
<span style="color: #8b2252;"> ${journal:40}"</span>)
                                       (inbook        . <span style="color: #8b2252;">"${=has-pdf=:1}${=has-note=:1} ${year:4} ${author:36} ${title:*}</span>
<span style="color: #8b2252;"> Chapter ${chapter:32}"</span>)
                                       (incollection  . <span style="color: #8b2252;">"${=has-pdf=:1}${=has-note=:1} ${year:4} ${author:36} ${title:*}</span>
<span style="color: #8b2252;"> ${booktitle:40}"</span>)
                                       (inproceedings . <span style="color: #8b2252;">"${=has-pdf=:1}${=has-note=:1} ${year:4} ${author:36} ${title:*}</span>
<span style="color: #8b2252;"> ${booktitle:40}"</span>)
                                       (t             . <span style="color: #8b2252;">"${=has-pdf=:1}${=has-note=:1} ${year:4} ${author:36} ${title:*}"</span>)))
  (bibtex-completion-pdf-open-function (<span style="color: #a020f0;">lambda</span> (fpath) (call-process <span style="color: #8b2252;">"open"</span> nil 0 nil fpath))))
</pre>
</div>
</div>
<div id="outline-container-org048857c" class="outline-4">
<h4 id="org048857c"><span class="section-number-4">5.2.1.</span> <span class="todo TODO">TODO</span> 3rd party importers</h4>
<div class="outline-text-4" id="text-5-2-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">(load "other_importers.el")</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org69aabf2" class="outline-4">
<h4 id="org69aabf2"><span class="section-number-4">5.2.2.</span> Publishing</h4>
<div class="outline-text-4" id="text-5-2-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">ox-publish</span>)
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">ox-html</span>)

(<span style="color: #a020f0;">setq</span> org-global-properties
      '((<span style="color: #8b2252;">"PUBLISH"</span> . <span style="color: #8b2252;">"yes no"</span>)))

<span style="color: #b22222;">;; </span><span style="color: #b22222;">(defun blog/org-publish-headline-filter (backend)</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">"Filter headlines based on the PUBLISH property before publishing.</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Only publish headlines with the property :PUBLISH: set to '</span><span style="color: #008b8b;">yes</span><span style="color: #b22222;">'."</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">(org-map-entries</span>
<span style="color: #b22222;">;;    </span><span style="color: #b22222;">(lambda ()</span>
<span style="color: #b22222;">;;      </span><span style="color: #b22222;">(let ((publish (org-entry-get (point) "PUBLISH")))</span>
<span style="color: #b22222;">;;        </span><span style="color: #b22222;">(unless (and publish (string= publish "yes"))</span>
<span style="color: #b22222;">;;          </span><span style="color: #b22222;">(org-cut-subtree))))</span>
<span style="color: #b22222;">;;    </span><span style="color: #b22222;">nil 'file))</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">(remove-hook 'org-export-before-processing-hook #'blog/org-publish-headline-filter)</span>

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">blog/org-publish-after-publish</span> (plist)
  <span style="color: #8b2252;">"Open the browser to the published site after publishing."</span>
  (browse-url (concat <span style="color: #8b2252;">"file://"</span> (expand-file-name <span style="color: #8b2252;">"public/index.html"</span> site-dir))))

(<span style="color: #a020f0;">setq</span> org-html-head
      <span style="color: #8b2252;">"&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\" /&gt;"</span>)
(<span style="color: #a020f0;">setq</span> org-html-validation-link nil)
(<span style="color: #a020f0;">setq</span> org-html-head-include-scripts <span style="color: #8b2252;">"&lt;script data-goatcounter=\"https://aziz.goatcounter.com/count\" async src=\"//gc.zgo.at/count.js\"&gt; &lt;/script&gt;"</span>)
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Use our own scripts</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">org-html-head-include-default-style nil ;; Use our own styles</span>
<span style="color: #b22222;">;;  </span><span style="color: #b22222;">org-html-head "&lt;link rel=\"stylesheet\" href=\"https://cdn.simplecss.org/simple.min.css\" /&gt;"</span>



(<span style="color: #a020f0;">defvar</span> <span style="color: #a0522d;">site-dir</span> <span style="color: #8b2252;">"~/Documents/org/"</span>)
(<span style="color: #a020f0;">defvar</span> <span style="color: #a0522d;">publish-dir</span> <span style="color: #8b2252;">"~/tree-3/users/aziz/blog/"</span>)

(<span style="color: #a020f0;">setq</span> org-publish-project-alist
      `((<span style="color: #8b2252;">"blog-org-files"</span>
         <span style="color: #483d8b;">:base-directory</span> ,site-dir
         <span style="color: #483d8b;">:base-extension</span> <span style="color: #8b2252;">"org"</span>
         <span style="color: #483d8b;">:publishing-directory</span> ,publish-dir
         <span style="color: #483d8b;">:recursive</span> t
         <span style="color: #483d8b;">:publishing-function</span> org-html-publish-to-html
         <span style="color: #483d8b;">:headline-levels</span> 4
         <span style="color: #483d8b;">:auto-preamble</span> t
         <span style="color: #483d8b;">:auto-sitemap</span> t
         <span style="color: #483d8b;">:exclude</span> <span style="color: #8b2252;">".*.org"</span>
         <span style="color: #483d8b;">:include</span> (<span style="color: #8b2252;">"pkg.org"</span>)
         <span style="color: #483d8b;">:html-postamble</span> nil
         <span style="color: #483d8b;">:section-numbers</span> nil
         <span style="color: #483d8b;">:sitemap-filename</span> <span style="color: #8b2252;">"index.org"</span>
         <span style="color: #b22222;">;;</span><span style="color: #b22222;">:sitemap-sort-files 'anti-chronologically</span>
         <span style="color: #483d8b;">:sitemap-title</span> <span style="color: #8b2252;">"Site map"</span>
         <span style="color: #483d8b;">:with-author</span> t
         <span style="color: #483d8b;">:with-date</span> t
         <span style="color: #483d8b;">:with-title</span> t
         <span style="color: #483d8b;">:with-toc</span> t
         <span style="color: #483d8b;">:makeindex</span> t
         <span style="color: #483d8b;">:completion-function</span> blog/org-publish-after-publish)

        (<span style="color: #8b2252;">"blog-static"</span>
         <span style="color: #483d8b;">:base-directory</span> ,site-dir
         <span style="color: #483d8b;">:base-extension</span> <span style="color: #8b2252;">"css</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">js</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">png</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">jpg</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">gif"</span>
         <span style="color: #483d8b;">:publishing-directory</span> ,publish-dir <span style="color: #b22222;">;;</span><span style="color: #b22222;">,(concat publish-dir "html/")</span>
         <span style="color: #483d8b;">:recursive</span> t
         <span style="color: #483d8b;">:publishing-function</span> org-publish-attachment)

        (<span style="color: #8b2252;">"blog"</span> <span style="color: #483d8b;">:components</span> (<span style="color: #8b2252;">"blog-org-files"</span> <span style="color: #8b2252;">"blog-static"</span>))))


</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org11f8775" class="outline-3">
<h3 id="org11f8775"><span class="section-number-3">5.3.</span> Bibliography</h3>
<div class="outline-text-3" id="text-5-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">bibtex</span>
  <span style="color: #483d8b;">:straight</span> t
  <span style="color: #483d8b;">:custom</span>
  (bibtex-autokey-year-length 4)
  (bibtex-autokey-name-year-separator <span style="color: #8b2252;">"-"</span>)
  (bibtex-autokey-year-title-separator <span style="color: #8b2252;">"-"</span>)
  (bibtex-autokey-titleword-separator <span style="color: #8b2252;">"-"</span>)
  (bibtex-autokey-titlewords 2)
  (bibtex-autokey-titlewords-stretch 1)
  (bibtex-autokey-titleword-length 5)
  <span style="color: #483d8b;">:bind</span>
  (<span style="color: #483d8b;">:map</span> bibtex-mode-map
        (<span style="color: #8b2252;">"H-b"</span> . org-ref-bibtex-hydra/body)))

(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">ebib</span>
 <span style="color: #483d8b;">:after</span>
 (<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">org-ebib</span>)
 <span style="color: #483d8b;">:custom</span>
 (global-set-key (kbd <span style="color: #8b2252;">"C-c e"</span>) 'ebib)
 (<span style="color: #a020f0;">setq</span> ebib-bibtex-dialect 'biblatex) 
 (<span style="color: #a020f0;">setq</span> ebib-preload-bib-files '(<span style="color: #8b2252;">"../research/bibliography.bib"</span> <span style="color: #8b2252;">"~/Documents/bibliography.bib"</span>)))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org9764292" class="outline-2">
<h2 id="org9764292"><span class="section-number-2">6.</span> Document viewers</h2>
<div class="outline-text-2" id="text-6">
<p>
**PDF
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">pdf-tools</span>)
</pre>
</div>
</div>
<div id="outline-container-org453feaa" class="outline-3">
<h3 id="org453feaa"><span class="section-number-3">6.1.</span> DJVU</h3>
<div class="outline-text-3" id="text-6-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">djvu</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-org3733115" class="outline-3">
<h3 id="org3733115"><span class="section-number-3">6.2.</span> Markdown</h3>
<div class="outline-text-3" id="text-6-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">markdown-mode</span>
  <span style="color: #483d8b;">:mode</span> (<span style="color: #8b2252;">"README\\.md\\'"</span> . gfm-mode)
  <span style="color: #483d8b;">:init</span> (<span style="color: #a020f0;">setq</span> markdown-command <span style="color: #8b2252;">"multimarkdown"</span>))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org5651455" class="outline-2">
<h2 id="org5651455"><span class="section-number-2">7.</span> Editing</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-org47aa189" class="outline-3">
<h3 id="org47aa189"><span class="section-number-3">7.1.</span> Treesitter</h3>
<div class="outline-text-3" id="text-7-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">treesit-auto</span>
  <span style="color: #483d8b;">:config</span>
  (global-treesit-auto-mode))

<span style="color: #b22222;">;; </span><span style="color: #b22222;">(dolist (mapping</span>
<span style="color: #b22222;">;;          </span><span style="color: #b22222;">'((python-mode . python-ts-mode)</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">        (elixir-mode . elixir-ts-mode)</span>
<span style="color: #b22222;">;;            </span><span style="color: #b22222;">(css-mode . css-ts-mode)</span>
<span style="color: #b22222;">;;            </span><span style="color: #b22222;">(typescript-mode . typescript-ts-mode)</span>
<span style="color: #b22222;">;;            </span><span style="color: #b22222;">(js2-mode . js-ts-mode)</span>
<span style="color: #b22222;">;;            </span><span style="color: #b22222;">(bash-mode . bash-ts-mode)</span>
<span style="color: #b22222;">;;            </span><span style="color: #b22222;">(css-mode . css-ts-mode)</span>
<span style="color: #b22222;">;;            </span><span style="color: #b22222;">(json-mode . json-ts-mode)</span>
<span style="color: #b22222;">;;            </span><span style="color: #b22222;">(js-json-mode . json-ts-mode))))</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">(add-to-list 'major-mode-remap-alist mapping)</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">(setq treesit-language-source-alist</span>
<span style="color: #b22222;">;;    </span><span style="color: #b22222;">'((bash "https://github.com/tree-sitter/tree-sitter-bash")</span>
<span style="color: #b22222;">;;      </span><span style="color: #b22222;">(cmake "https://github.com/uyha/tree-sitter-cmake")</span>
<span style="color: #b22222;">;;      </span><span style="color: #b22222;">(css "https://github.com/tree-sitter/tree-sitter-css")</span>
<span style="color: #b22222;">;;      </span><span style="color: #b22222;">(elisp "https://github.com/Wilfred/tree-sitter-elisp")</span>
<span style="color: #b22222;">;;      </span><span style="color: #b22222;">(go "https://github.com/tree-sitter/tree-sitter-go")</span>
<span style="color: #b22222;">;;      </span><span style="color: #b22222;">(html "https://github.com/tree-sitter/tree-sitter-html")</span>
<span style="color: #b22222;">;;      </span><span style="color: #b22222;">(javascript "https://github.com/tree-sitter/tree-sitter-javascript" "master" "src")</span>
<span style="color: #b22222;">;;      </span><span style="color: #b22222;">(json "https://github.com/tree-sitter/tree-sitter-json")</span>
<span style="color: #b22222;">;;      </span><span style="color: #b22222;">(make "https://github.com/alemuller/tree-sitter-make")</span>
<span style="color: #b22222;">;;      </span><span style="color: #b22222;">(markdown "https://github.com/ikatyang/tree-sitter-markdown")</span>
<span style="color: #b22222;">;;      </span><span style="color: #b22222;">(python "https://github.com/tree-sitter/tree-sitter-python")</span>
<span style="color: #b22222;">;;      </span><span style="color: #b22222;">(toml "https://github.com/tree-sitter/tree-sitter-toml")</span>
<span style="color: #b22222;">;;      </span><span style="color: #b22222;">(tsx "https://github.com/tree-sitter/tree-sitter-typescript" "master" "tsx/src")</span>
<span style="color: #b22222;">;;      </span><span style="color: #b22222;">(typescript "https://github.com/tree-sitter/tree-sitter-typescript" "master" "typescript/src")</span>
<span style="color: #b22222;">;;      </span><span style="color: #b22222;">(yaml "https://github.com/ikatyang/tree-sitter-yaml")))</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">(mapc #'treesit-install-language-grammar (mapcar #'car treesit-language-source-alist))</span>


(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">combobulate</span>
  <span style="color: #483d8b;">:straight</span> (combobulate <span style="color: #483d8b;">:type</span> git <span style="color: #483d8b;">:host</span> github <span style="color: #483d8b;">:repo</span> <span style="color: #8b2252;">"mickeynp/combobulate"</span>)
  <span style="color: #483d8b;">:preface</span>
  (<span style="color: #a020f0;">setq</span> combobulate-key-prefix <span style="color: #8b2252;">"C-c o"</span>)
  <span style="color: #483d8b;">:hook</span>
  ((python-ts-mode . combobulate-mode)
   (js-ts-mode . combobulate-mode)
   (html-ts-mode . combobulate-mode)
   (css-ts-mode . combobulate-mode)
   (yaml-ts-mode . combobulate-mode)
   (typescript-ts-mode . combobulate-mode)
   (json-ts-mode . combobulate-mode)
   (tsx-ts-mode . combobulate-mode)))
</pre>
</div>
</div>
</div>
<div id="outline-container-org37fd1df" class="outline-3">
<h3 id="org37fd1df"><span class="section-number-3">7.2.</span> Version control</h3>
<div class="outline-text-3" id="text-7-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">magit</span>
  <span style="color: #483d8b;">:bind</span> (<span style="color: #8b2252;">"C-x g"</span> . magit-status)
  <span style="color: #483d8b;">:custom</span>
  (magit-define-global-key-bindings 'recommended))
</pre>
</div>
</div>
</div>
<div id="outline-container-orge74cc5a" class="outline-3">
<h3 id="orge74cc5a"><span class="section-number-3">7.3.</span> Navigation</h3>
<div class="outline-text-3" id="text-7-3">
</div>
<div id="outline-container-orgd74c049" class="outline-4">
<h4 id="orgd74c049"><span class="section-number-4">7.3.1.</span> Eglot</h4>
<div class="outline-text-4" id="text-7-3-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"> <span style="color: #b22222;">;;;; </span><span style="color: #b22222;">eglot</span>
(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">eglot</span>
  <span style="color: #483d8b;">:commands</span> eglot
  <span style="color: #483d8b;">:defer</span> t
  <span style="color: #483d8b;">:custom</span>
  (eglot-autoshutdown t)
  <span style="color: #483d8b;">:bind</span> (<span style="color: #483d8b;">:map</span> eglot-mode-map
              (<span style="color: #8b2252;">"C-c C-d"</span> . eldoc))
<span style="color: #b22222;">;;              </span><span style="color: #b22222;">("C-c C-e" . eglot-rename)</span>
<span style="color: #b22222;">;;              </span><span style="color: #b22222;">("C-c C-o" . python-sort-imports)</span>
<span style="color: #b22222;">;;              </span><span style="color: #b22222;">("C-c C-f" . eglot-format-buffer))</span>
  <span style="color: #483d8b;">:hook</span> ((python-ts-mode . eglot-ensure)
         (python-ts-mode . flyspell-prog-mode)
         (python-ts-mode . superword-mode)
         (python-ts-mode . hs-minor-mode)
         (python-ts-mode . (<span style="color: #a020f0;">lambda</span> () (set-fill-column 88)))
         (nix-ts-mode . eglot-ensure)
         (tex-mode . eglot-ensure)
         <span style="color: #b22222;">;; </span><span style="color: #b22222;">(prog-mode . (lambda ()</span>
         <span style="color: #b22222;">;;               </span><span style="color: #b22222;">(add-hook 'before-save-hook 'eglot-format nil t)))</span>
         )

  <span style="color: #483d8b;">:config</span>
  (add-to-list
   'eglot-server-programs
   '(nix-ts-mode
     . (<span style="color: #8b2252;">"nix-shell"</span> <span style="color: #8b2252;">"-p"</span> <span style="color: #8b2252;">"nixd"</span> <span style="color: #8b2252;">"--run"</span> <span style="color: #8b2252;">"nixd"</span>)))
  (add-to-list
   'eglot-server-programs
   '((elixir-ts-mode heex-ts-mode)
     <span style="color: #b22222;">;; </span><span style="color: #b22222;">TODO remove elixir package from runtime shell</span>
     . (<span style="color: #8b2252;">"nix-shell"</span> <span style="color: #8b2252;">"-p"</span> <span style="color: #8b2252;">"elixir-ls"</span> <span style="color: #8b2252;">"elixir"</span> <span style="color: #8b2252;">"--run"</span> <span style="color: #8b2252;">"elixir-ls"</span>)))

  (<span style="color: #a020f0;">setq</span> read-process-output-max (* 1024 1024))
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(with-eval-after-load 'eglot</span>
  <span style="color: #b22222;">;;   </span><span style="color: #b22222;">(dolist (mode '((nix-mode . ("nixd"))))</span>
  <span style="color: #b22222;">;;     </span><span style="color: #b22222;">(add-to-list 'eglot-server-programs mode)))</span>


  (add-hook 'eglot-managed-mode-hook
          #'(<span style="color: #a020f0;">lambda</span> ()
              <span style="color: #b22222;">;; </span><span style="color: #b22222;">Show flymake diagnostics first.</span>
              (<span style="color: #a020f0;">setq</span> eldoc-documentation-functions
                    (cons #'flymake-eldoc-function
                          (remove #'flymake-eldoc-function
                                  eldoc-documentation-functions)))))
  (<span style="color: #a020f0;">setq-default</span> eglot-workspace-configuration '(
      (<span style="color: #483d8b;">:pylsp</span> . (<span style="color: #483d8b;">:configurationSources</span> [<span style="color: #8b2252;">"flake8"</span>] <span style="color: #483d8b;">:plugins</span> (
                 <span style="color: #483d8b;">:pycodestyle</span> (<span style="color: #483d8b;">:enabled</span> t) <span style="color: #483d8b;">:mccabe</span> (<span style="color: #483d8b;">:enabled</span> t)
                 <span style="color: #483d8b;">:pyflakes</span> (<span style="color: #483d8b;">:enabled</span> t) <span style="color: #483d8b;">:flake8</span> (<span style="color: #483d8b;">:enabled</span> t
                 <span style="color: #483d8b;">:maxLineLength</span> 88) <span style="color: #ff0000; font-weight: bold;">:ruff</span><span style="color: #ff0000; font-weight: bold;"> (</span><span style="color: #ff0000; font-weight: bold;">:enabled</span><span style="color: #ff0000; font-weight: bold;"> t </span><span style="color: #ff0000; font-weight: bold;">:lineLength</span><span style="color: #ff0000; font-weight: bold;"> 88)</span>
                 <span style="color: #483d8b;">:pydocstyle</span> (<span style="color: #483d8b;">:enabled</span> t <span style="color: #483d8b;">:convention</span> <span style="color: #8b2252;">"numpy"</span>) <span style="color: #483d8b;">:yapf</span>
                 (<span style="color: #483d8b;">:enabled</span> t) <span style="color: #483d8b;">:autopep8</span> (<span style="color: #483d8b;">:enabled</span> <span style="color: #483d8b;">:json-false</span>) <span style="color: #483d8b;">:black</span>
                 (<span style="color: #483d8b;">:enabled</span> t <span style="color: #483d8b;">:line_length</span> 88 <span style="color: #483d8b;">:cache_config</span> t))))

      (<span style="color: #483d8b;">:nixd</span>
       (<span style="color: #483d8b;">:nixpkgs</span>
        (<span style="color: #483d8b;">:expr</span> <span style="color: #8b2252;">"import &lt;nixpkgs&gt; { }"</span>))))))
</pre>
</div>
</div>
</div>
<div id="outline-container-org5d53fcb" class="outline-4">
<h4 id="org5d53fcb"><span class="section-number-4">7.3.2.</span> dumb-jump</h4>
<div class="outline-text-4" id="text-7-3-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">dumb-jump</span>
  <span style="color: #483d8b;">:straight</span> t
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">:hook</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(('xref-backend-functions #'dumb-jump-xref-activate))</span>
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> dumb-jump-force-searcher 'rg)
  (add-hook 'xref-backend-functions #'dumb-jump-xref-activate)
  (<span style="color: #a020f0;">setq</span> xref-show-definitions-function 'xref-show-definitions-completing-read)
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(setq xref-show-definitions-function 'xref-show-definitions-buffer)</span>
  )
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgfe79790" class="outline-3">
<h3 id="orgfe79790"><span class="section-number-3">7.4.</span> Project management</h3>
<div class="outline-text-3" id="text-7-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">projectile</span>
(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">projectile</span>
<span style="color: #483d8b;">:init</span>
(projectile-mode t)
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">tramp</span>)
<span style="color: #483d8b;">:bind</span>
((<span style="color: #483d8b;">:map</span> projectile-mode-map
       (<span style="color: #8b2252;">"s-p"</span> . projectile-command-map))
       (<span style="color: #8b2252;">"s-p v"</span> . 'magit))

<span style="color: #483d8b;">:config</span>
(<span style="color: #a020f0;">setq</span> projectile-sort-order 'recentf)
(<span style="color: #a020f0;">setq</span> projectile-git-use-fd t)
(<span style="color: #a020f0;">setq</span> projectile-enable-caching t)
(<span style="color: #a020f0;">setq</span> projectile-completion-system 'helm)
(<span style="color: #a020f0;">setq</span> projectile-switch-project-action 'helm-projectile)
(advice-add 'projectile-project-root <span style="color: #483d8b;">:before-while</span>
            (<span style="color: #a020f0;">lambda</span> (<span style="color: #228b22;">&amp;optional</span> dir)
              (not (file-remote-p (<span style="color: #a020f0;">or</span> dir default-directory)))))
(add-to-list 'projectile-other-file-alist '(<span style="color: #8b2252;">"ex"</span> . (<span style="color: #8b2252;">"html.heex"</span> <span style="color: #8b2252;">"html.leex"</span>)))
(add-to-list 'projectile-other-file-alist '(<span style="color: #8b2252;">"html.heex"</span> . (<span style="color: #8b2252;">"ex"</span>)))
(add-to-list 'projectile-other-file-alist '(<span style="color: #8b2252;">"html.leex"</span> . (<span style="color: #8b2252;">"ex"</span>)))
)
</pre>
</div>
</div>
</div>
<div id="outline-container-org66c3635" class="outline-3">
<h3 id="org66c3635"><span class="section-number-3">7.5.</span> Programming languages</h3>
<div class="outline-text-3" id="text-7-5">
</div>
<div id="outline-container-org781a346" class="outline-4">
<h4 id="org781a346"><span class="section-number-4">7.5.1.</span> Elixir</h4>
<div class="outline-text-4" id="text-7-5-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">elixir-mode</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-org3ea3182" class="outline-4">
<h4 id="org3ea3182"><span class="section-number-4">7.5.2.</span> Nix</h4>
<div class="outline-text-4" id="text-7-5-2">
<p>
<a href="https://github.com/NixOS/nix-mode?tab=readme-ov-filelsp">https://github.com/NixOS/nix-mode?tab=readme-ov-filelsp</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">Nix</span>
(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">nix-mode</span>
  <span style="color: #483d8b;">:mode</span> (<span style="color: #8b2252;">"\\.nix\\'"</span> <span style="color: #8b2252;">"\\.nix.in\\'"</span>)
  <span style="color: #483d8b;">:config</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(use-package nix-drv-mode</span>
  <span style="color: #b22222;">;;   </span><span style="color: #b22222;">:ensure nix-mode</span>
  <span style="color: #b22222;">;;   </span><span style="color: #b22222;">:mode "\\.drv\\'")</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(use-package nix-shell</span>
  <span style="color: #b22222;">;;   </span><span style="color: #b22222;">:ensure nix-mode</span>
  <span style="color: #b22222;">;;   </span><span style="color: #b22222;">:commands (nix-shell-unpack nix-shell-configure nix-shell-build))</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(use-package nix-repl</span>
  <span style="color: #b22222;">;;   </span><span style="color: #b22222;">:ensure nix-mode</span>
  <span style="color: #b22222;">;;   </span><span style="color: #b22222;">:commands (nix-repl))</span>
  )
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc8240be" class="outline-4">
<h4 id="orgc8240be"><span class="section-number-4">7.5.3.</span> Terraform</h4>
<div class="outline-text-4" id="text-7-5-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">terraform-mode</span>
 <span style="color: #483d8b;">:custom</span> (terraform-indent-level 4)
 <span style="color: #483d8b;">:config</span>
 (<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my-terraform-mode-init</span> ()
   <span style="color: #b22222;">;; </span><span style="color: #b22222;">if you want to use outline-minor-mode</span>
   <span style="color: #b22222;">;; </span><span style="color: #b22222;">(outline-minor-mode 1)</span>
   )
 (add-hook 'terraform-mode-hook 'my-terraform-mode-init))
</pre>
</div>
</div>
</div>
<div id="outline-container-orga5acbc9" class="outline-4">
<h4 id="orga5acbc9"><span class="section-number-4">7.5.4.</span> Typescript</h4>
<div class="outline-text-4" id="text-7-5-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'auto-mode-alist '(<span style="color: #8b2252;">"\\.ts</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">(</span><span style="color: #8b2252;">x</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">)</span><span style="color: #8b2252;">?\\'"</span> . tsx-ts-mode))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgc32aaf8" class="outline-3">
<h3 id="orgc32aaf8"><span class="section-number-3">7.6.</span> Snippets</h3>
<div class="outline-text-3" id="text-7-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">yasnippet</span>
  <span style="color: #483d8b;">:config</span>
  (yas-global-mode 1)
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">get more snippets from here</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">https://github.com/AndreaCrotti/yasnippet-snippets/tree/master/snippets</span>
  (<span style="color: #a020f0;">setq</span> yas-snippet-dirs
      '(<span style="color: #8b2252;">"~/.emacs.d/snippets"</span>)))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org30e2375" class="outline-2">
<h2 id="org30e2375"><span class="section-number-2">8.</span> Misc</h2>
<div class="outline-text-2" id="text-8">
</div>
<div id="outline-container-org2ae8bb5" class="outline-3">
<h3 id="org2ae8bb5"><span class="section-number-3">8.1.</span> Slurm</h3>
<div class="outline-text-3" id="text-8-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">slurm-mode</span>
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">slurm-script-mode</span>))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org983503f" class="outline-2">
<h2 id="org983503f"><span class="section-number-2">9.</span> Rest</h2>
<div class="outline-text-2" id="text-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">  (<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">auto-compile</span>
    <span style="color: #483d8b;">:straight</span> t
    <span style="color: #483d8b;">:demand</span> t
    <span style="color: #483d8b;">:custom</span>
    (auto-compile-mode-line-counter t <span style="color: #8b2252;">"Show compile info in the mode-line"</span>)
    (auto-compile-source-recreate-deletes-dest t)
    (auto-compile-toggle-deletes-nonlib-dest t)
    (auto-compile-update-autoloads t)
    (auto-compile-display-buffer nil <span style="color: #8b2252;">"Don't display compile buffer"</span>)
    <span style="color: #483d8b;">:hook</span>
    (auto-compile-inhibit-compile . auto-compile-inhibit-compile-detached-git-head)
    <span style="color: #483d8b;">:config</span>
    (auto-compile-on-load-mode)
    (auto-compile-on-save-mode))

(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">no-littering</span>
  <span style="color: #483d8b;">:straight</span> t
  <span style="color: #483d8b;">:demand</span> t)



<span style="color: #b22222;">;; </span><span style="color: #b22222;">;; Load use packages</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">(eval-and-compile</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">(defsubst emacs-path (path)</span>
<span style="color: #b22222;">;;     </span><span style="color: #b22222;">(expand-file-name path user-emacs-directory))</span>

<span style="color: #b22222;">;;   </span><span style="color: #b22222;">(setq package-enable-at-startup nil</span>
<span style="color: #b22222;">;;         </span><span style="color: #b22222;">load-path</span>
<span style="color: #b22222;">;;         </span><span style="color: #b22222;">(append (list (emacs-path "use-package"))</span>
<span style="color: #b22222;">;;                 </span><span style="color: #b22222;">(delete-dups load-path)</span>
<span style="color: #b22222;">;;                 </span><span style="color: #b22222;">(list (emacs-path "lisp")))))</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">(require 'use-package)</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">;; Set use-package to always ensure packages are installed</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">(setq use-package-always-ensure t)</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">;; (setq use-package-verbose init-file-debug</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">;;       use-package-expand-minimally (not init-file-debug)</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">;;       use-package-compute-statistics t</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">;;       debug-on-error init-file-debug)</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">;; Define the &#8220;data environment&#8221; for this instance of Emacs</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">(defconst emacs-environment (or (getenv "NIX_MYENV_NAME") "default"))</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">(defconst emacs-data-suffix</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">(cond ((string= "emacsERC" emacs-environment) "alt")</span>
<span style="color: #b22222;">;;         </span><span style="color: #b22222;">((string-match "emacs2[6789]\\(.+\\)$" emacs-environment)</span>
<span style="color: #b22222;">;;          </span><span style="color: #b22222;">(match-string 1 emacs-environment))))</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">(defconst alternate-emacs (string= emacs-data-suffix "alt"))</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">(defconst user-data-directory</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">(emacs-path (if emacs-data-suffix</span>
<span style="color: #b22222;">;;                   </span><span style="color: #b22222;">(format "data-%s" emacs-da&#17;&#24;ta-suffix)</span>
<span style="color: #b22222;">;;                 </span><span style="color: #b22222;">"data")))</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">(defun user-data (</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">(expand-file-name dir user-data-directory)))</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Font setup</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">https://slumpy.org/blog/2016-01-11-proper-way-to-setup-fonts-in-emacs/</span>


(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my/setup-fonts</span> ()
  (<span style="color: #a020f0;">interactive</span>)
  (set-face-font 'default <span style="color: #8b2252;">"Berkeley Mono-15"</span>)
  (set-fontset-font t 'hebrew (font-spec <span style="color: #483d8b;">:name</span> <span style="color: #8b2252;">"Berkeley Mono-15"</span>))
)


<span style="color: #b22222;">;; </span><span style="color: #b22222;">(add-to-list 'default-frame-alist '(font . "Berkeley Mono" ))</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">(set-face-attribute 'default t :font "Berkeley Mono")</span>



<span style="color: #b22222;">;; </span><span style="color: #b22222;">(use-package package</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">:custom</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">(setq package-archives '(("melpa-stable" . "https://stable.melpa.org/packages/")</span>
<span style="color: #b22222;">;;                          </span><span style="color: #b22222;">("melpa" . "https://melpa.org/packages/")</span>
<span style="color: #b22222;">;;                          </span><span style="color: #b22222;">("gnu" . "http://elpa.gnu.org/packages/")</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">                      ("org" . "http://orgmode.org/elpa/")))</span>

<span style="color: #b22222;">;;   </span><span style="color: #b22222;">(defun validate-package-urls (urls)</span>
<span style="color: #b22222;">;;     </span><span style="color: #b22222;">"Validate the given package repository URLs."</span>
<span style="color: #b22222;">;;     </span><span style="color: #b22222;">(dolist (url urls)</span>
<span style="color: #b22222;">;;       </span><span style="color: #b22222;">(unless (string-match "\\`https?:" (cdr url))</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">     (error "Invalid URL: %s" (cdr url)))))</span>

<span style="color: #b22222;">;;   </span><span style="color: #b22222;">(validate-package-urls package-archives)</span>

<span style="color: #b22222;">;;   </span><span style="color: #b22222;">(package-initialize))</span>



(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">imenu</span>
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> imenu-auto-rescan t)
  (add-hook 'emacs-lisp-mode-hook
            (<span style="color: #a020f0;">lambda</span> ()
              (<span style="color: #a020f0;">setq</span> imenu-generic-expression
                    '((nil <span style="color: #8b2252;">"^\\s-*(use-package\\s-+</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">(</span><span style="color: #8b2252;">\\_&lt;.+?\\_&gt;</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">)</span><span style="color: #8b2252;">"</span> 1))))))

<span style="color: #b22222;">;;;; </span><span style="color: #b22222;">ibuffer</span>
(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">ibuffer</span>
  <span style="color: #483d8b;">:bind</span> (<span style="color: #8b2252;">"C-x C-b"</span> . ibuffer)
  <span style="color: #483d8b;">:custom</span>
  (ibuffer-default-display-maybe-show-predicates t)
  (ibuffer-expert t)
  (ibuffer-formats
   '((mark modified read-only <span style="color: #8b2252;">" "</span>
           (name 16 -1)
           <span style="color: #8b2252;">" "</span>
           (size 6 -1 <span style="color: #483d8b;">:right</span>)
           <span style="color: #8b2252;">" "</span>
           (mode 16 16)
           <span style="color: #8b2252;">" "</span> filename)
     (mark <span style="color: #8b2252;">" "</span>
           (name 16 -1)
           <span style="color: #8b2252;">" "</span> filename)))
  (ibuffer-maybe-show-regexps nil)
  (ibuffer-saved-filter-groups
   '((<span style="color: #8b2252;">"default"</span>
      (<span style="color: #8b2252;">"Magit"</span>
       (<span style="color: #a020f0;">or</span>
        (mode . magit-status-mode)
        (mode . magit-log-mode)
        (name . <span style="color: #8b2252;">"\\*magit"</span>)
        (name . <span style="color: #8b2252;">"magit-"</span>)
        (name . <span style="color: #8b2252;">"git-monitor"</span>)))
      (<span style="color: #8b2252;">"Coq"</span>
       (<span style="color: #a020f0;">or</span>
        (mode . coq-mode)
        (name . <span style="color: #8b2252;">"\\&lt;</span><span style="color: #a0522d;">coq\\</span><span style="color: #8b2252;">&gt;"</span>)
        (name . <span style="color: #8b2252;">"_CoqProject"</span>)))
      (<span style="color: #8b2252;">"Commands"</span>
       (<span style="color: #a020f0;">or</span>
        (mode . shell-mode)
        (mode . eshell-mode)
        (mode . term-mode)
        (mode . compilation-mode)))
      (<span style="color: #8b2252;">"Haskell"</span>
       (<span style="color: #a020f0;">or</span>
        (mode . haskell-mode)
        (mode . haskell-cabal-mode)
        (mode . haskell-literate-mode)))
      (<span style="color: #8b2252;">"Rust"</span>
       (<span style="color: #a020f0;">or</span>
        (mode . rust-mode)
        (mode . cargo-mode)
        (name . <span style="color: #8b2252;">"\\*Cargo"</span>)
        (name . <span style="color: #8b2252;">"^\\*rls</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">(</span><span style="color: #8b2252;">::stderr</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">)</span><span style="color: #8b2252;">?\\*"</span>)
        (name . <span style="color: #8b2252;">"eglot"</span>)))
      (<span style="color: #8b2252;">"Nix"</span>
       (mode . nix-mode))
      (<span style="color: #8b2252;">"C++"</span>
       (<span style="color: #a020f0;">or</span>
        (mode . c-mode)
        (mode . c++-mode)))
      (<span style="color: #8b2252;">"Lisp"</span>
       (mode . emacs-lisp-mode))
      (<span style="color: #8b2252;">"Dired"</span>
       (mode . dired-mode))
      (<span style="color: #8b2252;">"Gnus"</span>
       (<span style="color: #a020f0;">or</span>
        (mode . message-mode)
        (mode . mail-mode)
        (mode . gnus-group-mode)
        (mode . gnus-summary-mode)
        (mode . gnus-article-mode)
        (name . <span style="color: #8b2252;">"^\\.newsrc-dribble"</span>)
        (name . <span style="color: #8b2252;">"^\\*</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">(</span><span style="color: #8b2252;">sent</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">unsent</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">fetch</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">)</span><span style="color: #8b2252;">"</span>)
        (name . <span style="color: #8b2252;">"^ \\*</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">(</span><span style="color: #8b2252;">nnimap</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">nntp</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">nnmail</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">gnus</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">server</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">mm\\*</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">)</span><span style="color: #8b2252;">"</span>)
        (name . <span style="color: #8b2252;">"</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">(</span><span style="color: #8b2252;">Original Article</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">canonical address</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">extract address</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">)</span><span style="color: #8b2252;">"</span>)))
      (<span style="color: #8b2252;">"Org"</span>
       (<span style="color: #a020f0;">or</span>
        (name . <span style="color: #8b2252;">"^\\*Calendar\\*$"</span>)
        (name . <span style="color: #8b2252;">"^\\*Org Agenda"</span>)
        (name . <span style="color: #8b2252;">"^ \\*Agenda"</span>)
        (name . <span style="color: #8b2252;">"^diary$"</span>)
        (mode . org-mode)))
      (<span style="color: #8b2252;">"Emacs"</span>
       (<span style="color: #a020f0;">or</span>
        (name . <span style="color: #8b2252;">"^\\*scratch\\*$"</span>)
        (name . <span style="color: #8b2252;">"^\\*Messages\\*$"</span>)
        (name . <span style="color: #8b2252;">"^\\*</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">(</span><span style="color: #8b2252;">Customize</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">Help</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">)</span><span style="color: #8b2252;">"</span>)
        (name . <span style="color: #8b2252;">"\\*</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">(</span><span style="color: #8b2252;">Echo</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">Minibuf</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">)</span><span style="color: #8b2252;">"</span>))))))
  (ibuffer-show-empty-filter-groups nil)
  (ibuffer-shrink-to-minimum-size t t)
  (ibuffer-use-other-window t)
  <span style="color: #483d8b;">:init</span>
  (add-hook 'ibuffer-mode-hook
            #'(<span style="color: #a020f0;">lambda</span> ()
                (ibuffer-switch-to-saved-filter-groups <span style="color: #8b2252;">"default"</span>))))

(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">dired</span>
  <span style="color: #483d8b;">:straight</span> nil
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:config</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(when (string= system-type "darwin")</span>
  <span style="color: #b22222;">;;   </span><span style="color: #b22222;">(setq dired-use-ls-dired t</span>
  <span style="color: #b22222;">;;         </span><span style="color: #b22222;">insert-directory-program "/usr/local/bin/gls"</span>
  <span style="color: #b22222;">;;         </span><span style="color: #b22222;">dired-listing-switches "-aBhl --group-directories-first")))</span>
)
(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">dired-x</span>
  <span style="color: #483d8b;">:straight</span> nil
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:after</span> dired
  <span style="color: #483d8b;">:config</span>
  (add-hook 'dired-mode-hook #'dired-omit-mode))

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Project management</span>
<span style="color: #b22222;">;;;; </span><span style="color: #b22222;">projectile</span>



<span style="color: #b22222;">;; </span><span style="color: #b22222;">Terminal emulator</span>
<span style="color: #b22222;">;;;; </span><span style="color: #b22222;">vterm</span>
(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">vterm</span>
  <span style="color: #483d8b;">:disabled</span>
  <span style="color: #483d8b;">:straight</span> t
  <span style="color: #483d8b;">:defer</span> t)



<span style="color: #b22222;">;; </span><span style="color: #b22222;">Manuals and Docs</span>
<span style="color: #b22222;">;;;; </span><span style="color: #b22222;">info TODO: read and refactor</span>
(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">info</span>
  <span style="color: #483d8b;">:bind</span> (<span style="color: #8b2252;">"C-h C-i"</span> . info-hlookup-symbol)
  <span style="color: #483d8b;">:custom</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(Info-default-directory-list (list (emacs-path "lisp/org-mode/doc")))</span>
  (Info-fit-frame-flag nil)
  <span style="color: #483d8b;">:autoload</span> Info-goto-node
  <span style="color: #483d8b;">:preface</span>
  (<span style="color: #a020f0;">eval-when-compile</span>
    (<span style="color: #a020f0;">defvar</span> <span style="color: #a0522d;">buffer-face-mode-face</span>))

  (<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">nix-read-environment</span> (name)
    (<span style="color: #a020f0;">ignore-errors</span>
      (<span style="color: #a020f0;">with-temp-buffer</span>
        (insert-file-contents-literally
         (<span style="color: #a020f0;">with-temp-buffer</span>
           (insert-file-contents-literally
            (executable-find (concat <span style="color: #8b2252;">"load-env-"</span> name)))
           (<span style="color: #a020f0;">and</span> (re-search-forward <span style="color: #8b2252;">"^source </span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">(</span><span style="color: #8b2252;">.+</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">)</span><span style="color: #8b2252;">$"</span> nil t)
                (match-string 1))))
        (<span style="color: #a020f0;">and</span> (<span style="color: #a020f0;">or</span> (re-search-forward <span style="color: #8b2252;">"^  nativeBuildInputs=\"</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">(</span><span style="color: #8b2252;">.+?</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">)</span><span style="color: #8b2252;">\""</span> nil t)
                 (re-search-forward <span style="color: #8b2252;">"^  buildInputs=\"</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">(</span><span style="color: #8b2252;">.+?</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">)</span><span style="color: #8b2252;">\""</span> nil t))
             (split-string (match-string 1))))))
  <span style="color: #483d8b;">:init</span>
  (<span style="color: #a020f0;">defvar</span> <span style="color: #a0522d;">Info-directory-list</span>
    (mapcar 'expand-file-name
            (append
             (mapcar (apply-partially #'expand-file-name <span style="color: #8b2252;">"share/info"</span>)
                     (nix-read-environment emacs-environment))
             '(<span style="color: #8b2252;">"~/.local/share/info"</span>
               <span style="color: #8b2252;">"~/.nix-profile/share/info"</span>
               <span style="color: #8b2252;">"/etc/profiles/per-user/aziz/share/info/"</span>
               <span style="color: #8b2252;">"/run/current-system/sw/share/info/"</span>
               ))))
  <span style="color: #483d8b;">:config</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(add-hook 'Info-mode-hook</span>
  <span style="color: #b22222;">;;           </span><span style="color: #b22222;">#'(lambda ()</span>
  <span style="color: #b22222;">;;                </span><span style="color: #b22222;">(setq buffer-face-mode-face '(:family "Arial"))</span>
  <span style="color: #b22222;">;;                </span><span style="color: #b22222;">(buffer-face-mode)</span>
  <span style="color: #b22222;">;;                </span><span style="color: #b22222;">(text-scale-adjust 1)</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">           ))</span>
)


(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">info-look</span> <span style="color: #483d8b;">:autoload</span> info-lookup-add-help)

<span style="color: #b22222;">;; </span><span style="color: #b22222;">(use-package info-lookmore</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">:enable nil</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">:after info-look</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">:config</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">(info-lookmore-elisp-cl)</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">(info-lookmore-elisp-userlast)</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">(info-lookmore-elisp-gnus)</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">(info-lookmore-apropos-elisp))</span>



<span style="color: #b22222;">;; </span><span style="color: #b22222;">Auctex</span>
(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">auctex</span>
  <span style="color: #483d8b;">:straight</span> t)
(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">tex</span>
  <span style="color: #483d8b;">:straight</span> nil
  <span style="color: #483d8b;">:ensure</span> auctex
  <span style="color: #483d8b;">:defer</span> t
 <span style="color: #b22222;">;; </span><span style="color: #b22222;">:mode ("\\.tex\\'" . LaTeX-mode)</span>
  <span style="color: #483d8b;">:hook</span> ((LaTeX-mode . TeX-source-correlate-mode)
         (LaTeX-mode . TeX-PDF-mode)
         (LaTeX-mode . turn-on-reftex)
         (LaTeX-mode . abbrev-mode))
  <span style="color: #483d8b;">:custom</span>
  (TeX-PDF-mode t)
  (TeX-auto-save t)
  (TeX-auto-untabify t)
  (TeX-electric-escape t)
  (TeX-electric-math '(<span style="color: #8b2252;">"</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">(</span><span style="color: #8b2252;">"</span> . <span style="color: #8b2252;">"</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">)</span><span style="color: #8b2252;">"</span>))
  (TeX-engine 'xetex)
  (TeX-parse-self t)
  (TeX-master nil)
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Eglot keybindings interferes with auctex</span>
  (<span style="color: #a020f0;">with-eval-after-load</span> 'eglot
    (define-key eglot-mode-map (kbd <span style="color: #8b2252;">"C-c C-e"</span>) nil)
  <span style="color: #483d8b;">:config</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Set Skim as the PDF viewer</span>
  (<span style="color: #a020f0;">setq</span> TeX-view-program-list
        '((<span style="color: #8b2252;">"Skim"</span> <span style="color: #8b2252;">"open -a Skim.app %o"</span>)))
  (<span style="color: #a020f0;">setq</span> TeX-view-program-selection
        '((output-pdf <span style="color: #8b2252;">"Skim"</span>)
          ((output-dvi style-pstricks)
           <span style="color: #8b2252;">"dvips and gv"</span>)
          (output-dvi <span style="color: #8b2252;">"xdvi"</span>)
          (output-html <span style="color: #8b2252;">"open"</span>)))
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Configure Skim to auto-reload PDF files</span>
  (<span style="color: #a020f0;">setq</span> TeX-source-correlate-mode t)
  (<span style="color: #a020f0;">setq</span> TeX-source-correlate-start-server t)
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Sync TeX source with Skim</span>
  (add-hook 'TeX-after-compilation-finished-functions
            #'TeX-revert-document-buffer)))


<span style="color: #b22222;">;;   </span><span style="color: #b22222;">:defines</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">(latex-help-cmd-alist</span>
<span style="color: #b22222;">;;    </span><span style="color: #b22222;">latex-help-file)</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">:preface</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">(defvar latex-prettify-symbols-alist</span>
<span style="color: #b22222;">;;     </span><span style="color: #b22222;">'(("\N{THIN SPACE}" . ?\&#10231;)))</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">:config</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">(require 'preview)</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(defun latex-help-get-cmd-alist ()    ;corrected version:</span>
  <span style="color: #b22222;">;;   </span><span style="color: #b22222;">"Scoop up the commands in the index of the latex info manual.</span>
  <span style="color: #b22222;">;;  </span><span style="color: #b22222;">The values are saved in `</span><span style="color: #008b8b;">latex-help-cmd-alist</span><span style="color: #b22222;">' for speed."</span>
  <span style="color: #b22222;">;;   </span><span style="color: #b22222;">;; mm, does it contain any cached entries</span>
  <span style="color: #b22222;">;;   </span><span style="color: #b22222;">(if (not (assoc "\\begin" latex-help-cmd-alist))</span>
  <span style="color: #b22222;">;;       </span><span style="color: #b22222;">(save-window-excursion</span>
  <span style="color: #b22222;">;;         </span><span style="color: #b22222;">(setq latex-help-cmd-alist nil)</span>
  <span style="color: #b22222;">;;         </span><span style="color: #b22222;">(Info-goto-node (concat latex-help-file "Command Index"))</span>
  <span style="color: #b22222;">;;         </span><span style="color: #b22222;">(goto-char (point-max))</span>
  <span style="color: #b22222;">;;         </span><span style="color: #b22222;">(while (re-search-backward "^\\* \\(.+\\): *\\(.+\\)\\." nil t)</span>
  <span style="color: #b22222;">;;           </span><span style="color: #b22222;">(let ((key (buffer-substring (match-beginning 1) (match-end 1)))</span>
  <span style="color: #b22222;">;;                 </span><span style="color: #b22222;">(value (buffer-substring (match-beginning 2)</span>
  <span style="color: #b22222;">;;                                          </span><span style="color: #b22222;">(match-end 2))))</span>
  <span style="color: #b22222;">;;             </span><span style="color: #b22222;">(add-to-list 'latex-help-cmd-alist (cons key value))))))</span>
  <span style="color: #b22222;">;;   </span><span style="color: #b22222;">latex-help-cmd-alist)</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(info-lookup-add-help :mode 'LaTeX-mode</span>
  <span style="color: #b22222;">;;                       </span><span style="color: #b22222;">:regexp ".*"</span>
  <span style="color: #b22222;">;;                       </span><span style="color: #b22222;">:parse-rule "\\\\?[a-zA-Z]+\\|\\\\[</span><span style="color: #008b8b;">^</span><span style="color: #008b8b;">a-zA-Z</span><span style="color: #b22222;">]"</span>
  <span style="color: #b22222;">;;                       </span><span style="color: #b22222;">:doc-spec '(("(latex2e)Concept Index")</span>
  <span style="color: #b22222;">;;                                   </span><span style="color: #b22222;">("(latex2e)Command Index")))</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(add-hook 'LaTeX-mode-hook</span>
  <span style="color: #b22222;">;;           </span><span style="color: #b22222;">#'(lambda</span>
  <span style="color: #b22222;">;;               </span><span style="color: #b22222;">()</span>
  <span style="color: #b22222;">;;               </span><span style="color: #b22222;">(setq-local prettify-symbols-alist latex-prettify-symbols-alist)</span>
  <span style="color: #b22222;">;;               </span><span style="color: #b22222;">(prettify-symbols-mode 1)))</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(add-hook 'TeX-after-compilation-finished-functions</span>
  <span style="color: #b22222;">;;           </span><span style="color: #b22222;">#'TeX-revert-document-buffer))</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">My packages</span>
(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">capture-frame</span>
  <span style="color: #483d8b;">:disabled</span>
  <span style="color: #483d8b;">:load-path</span> <span style="color: #8b2252;">"./capture-frame.el"</span>
  <span style="color: #483d8b;">:commands</span> (my/make-capture-frame))


(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">exec-path-from-shell</span>
  <span style="color: #483d8b;">:straight</span> t
  <span style="color: #483d8b;">:config</span>
  (exec-path-from-shell-initialize)
  (<span style="color: #a020f0;">dolist</span> (var '(<span style="color: #8b2252;">"SSH_AUTH_SOCK"</span> <span style="color: #8b2252;">"SSH_AGENT_PID"</span> <span style="color: #8b2252;">"GPG_AGENT_INFO"</span> <span style="color: #8b2252;">"LANG"</span> <span style="color: #8b2252;">"LC_CTYPE"</span> <span style="color: #8b2252;">"NIX_SSL_CERT_FILE"</span> <span style="color: #8b2252;">"NIX_PATH"</span>))
    (add-to-list 'exec-path-from-shell-variables var))
  (exec-path-from-shell-copy-env <span style="color: #8b2252;">"PATH"</span>))



<span style="color: #b22222;">;; </span><span style="color: #b22222;">this issue pr fix the issue with tramp</span>

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my/projectile-remove-selected-projects</span> ()
  <span style="color: #8b2252;">"Select and remove multiple projects from the known projects list."</span>
  (<span style="color: #a020f0;">interactive</span>)
  (<span style="color: #a020f0;">let*</span> ((projects (projectile-relevant-known-projects))
         (selected (completing-read-multiple <span style="color: #8b2252;">"Select projects to remove: "</span> projects)))
    (<span style="color: #a020f0;">dolist</span> (project selected)
      (projectile-remove-known-project project))
    (message <span style="color: #8b2252;">"Removed projects: %s"</span> (string-join selected <span style="color: #8b2252;">", "</span>))))


</pre>
</div>
</div>
</div>
</div>
</body>
</html>
